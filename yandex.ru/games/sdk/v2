var YaGames;(()=>{var e=[(e,t,n)=>{var r=n(24),o=n(4),a=n(72),i=n(73),s="WebAssembly",c=o[s],d=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=i(e,t,d),r({global:!0,constructor:!0,arity:1,forced:d},n)},u=function(e,t){if(c&&c[e]){var n={};n[e]=i(s+"."+e,t,d),r({target:s,stat:!0,constructor:!0,arity:1,forced:d},n)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},(e,t,n)=>{"use strict";var r=n(24),o=n(56).includes,a=n(3),i=n(84);r({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},(e,t,n)=>{var r=n(41),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},(e,t,n)=>{var r=n(19),o=Function.prototype,a=o.call,i=r&&o.bind.bind(a,a);e.exports=r?i:function(e){return function(){return a.apply(e,arguments)}}},(e,t,n)=>{var r=n(3);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},(e,t,n)=>{var r=n(5),o=n(16),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},(e,t,n)=>{"use strict";var r=n(24),o=n(16),a=n(11),i=n(88),s=n(90);r({target:"Array",proto:!0,arity:1,forced:n(3)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=o(this),n=a(t),r=arguments.length;s(n+r);for(var c=0;c<r;c++)t[n]=arguments[c],n++;return i(t,n),n}})},(e,t,n)=>{var r=n(2),o=n(41),a=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===a}:function(e){return"object"==typeof e?null!==e:r(e)}},(e,t,n)=>{var r=n(6),o=n(48),a=n(50),i=n(13),s=n(39),c=TypeError,d=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u="enumerable",p="configurable",_="writable";t.f=r?a?function(e,t,n){if(i(e),t=s(t),i(n),"function"==typeof e&&"prototype"===t&&"value"in n&&_ in n&&!n[_]){var r=l(e,t);r&&r[_]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:u in n?n[u]:r[u],writable:!1})}return d(e,t,n)}:d:function(e,t,n){if(i(e),t=s(t),i(n),o)try{return d(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},(e,t,n)=>{var r=n(70);e.exports=function(e){return r(e.length)}},(e,t,n)=>{var r=n(6),o=n(10),a=n(25);e.exports=r?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},(e,t,n)=>{var r=n(9),o=String,a=TypeError;e.exports=function(e){if(r(e))return e;throw a(o(e)+" is not an object")}},(e,t,n)=>{"use strict";var r,o,a,i=n(95),s=n(6),c=n(4),d=n(2),l=n(9),u=n(7),p=n(35),_=n(45),m=n(12),h=n(51),g=n(10).f,f=n(26),v=n(96),y=n(34),E=n(15),w=n(30),A=n(53),b=A.enforce,O=A.get,S=c.Int8Array,P=S&&S.prototype,T=c.Uint8ClampedArray,k=T&&T.prototype,C=S&&v(S),I=P&&v(P),R=Object.prototype,L=c.TypeError,D=E("toStringTag"),x=w("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",M=i&&!!y&&"Opera"!==p(c.opera),G=!1,U={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},B=function(e){var t=v(e);if(l(t)){var n=O(t);return n&&u(n,N)?n[N]:B(t)}},Y=function(e){if(!l(e))return!1;var t=p(e);return u(U,t)||u(F,t)};for(r in U)(a=(o=c[r])&&o.prototype)?b(a)[N]=o:M=!1;for(r in F)(a=(o=c[r])&&o.prototype)&&(b(a)[N]=o);if((!M||!d(C)||C===Function.prototype)&&(C=function(){throw L("Incorrect invocation")},M))for(r in U)c[r]&&y(c[r],C);if((!M||!I||I===R)&&(I=C.prototype,M))for(r in U)c[r]&&y(c[r].prototype,I);if(M&&v(k)!==I&&y(k,I),s&&!u(I,D))for(r in G=!0,g(I,D,{get:function(){return l(this)?this[x]:void 0}}),U)c[r]&&m(c[r],x,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:G&&x,aTypedArray:function(e){if(Y(e))return e;throw L("Target is not a typed array")},aTypedArrayConstructor:function(e){if(d(e)&&(!y||f(C,e)))return e;throw L(_(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(s){if(n)for(var o in U){var a=c[o];if(a&&u(a.prototype,e))try{delete a.prototype[e]}catch(n){try{a.prototype[e]=t}catch(e){}}}I[e]&&!n||h(I,e,n?t:M&&P[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,o;if(s){if(y){if(n)for(r in U)if((o=c[r])&&u(o,e))try{delete o[e]}catch(e){}if(C[e]&&!n)return;try{return h(C,e,n?t:M&&C[e]||t)}catch(e){}}for(r in U)!(o=c[r])||o[e]&&!n||h(o,e,t)}},getTypedArrayConstructor:B,isView:function(e){if(!l(e))return!1;var t=p(e);return"DataView"===t||u(U,t)||u(F,t)},isTypedArray:Y,TypedArray:C,TypedArrayPrototype:I}},(e,t,n)=>{var r=n(4),o=n(46),a=n(7),i=n(30),s=n(44),c=n(43),d=r.Symbol,l=o("wks"),u=c?d.for||d:d&&d.withoutSetter||i;e.exports=function(e){return a(l,e)||(l[e]=s&&a(d,e)?d[e]:u("Symbol."+e)),l[e]}},(e,t,n)=>{var r=n(37),o=Object;e.exports=function(e){return o(r(e))}},(e,t,n)=>{var r=n(69);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},(e,t,n)=>{var r=n(19),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},(e,t,n)=>{var r=n(3);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},(e,t,n)=>{var r=n(36),o=n(37);e.exports=function(e){return r(o(e))}},(e,t,n)=>{var r=n(5),o=r({}.toString),a=r("".slice);e.exports=function(e){return a(o(e),8,-1)}},(e,t,n)=>{var r=n(4),o=n(2),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},(e,t,n)=>{var r=n(4),o=n(6),a=n(91),i=n(92),s=n(3),c=r.RegExp,d=c.prototype;o&&s((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",o=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var i in e&&(a.hasIndices="d"),a)o(i,a[i]);return Object.getOwnPropertyDescriptor(d,"flags").get.call(t)!==r||n!==r}))&&a(d,"flags",{configurable:!0,get:i})},(e,t,n)=>{var r=n(4),o=n(59).f,a=n(12),i=n(51),s=n(29),c=n(54),d=n(71);e.exports=function(e,t){var n,l,u,p,_,m=e.target,h=e.global,g=e.stat;if(n=h?r:g?r[m]||s(m,{}):(r[m]||{}).prototype)for(l in t){if(p=t[l],u=e.dontCallGetSet?(_=o(n,l))&&_.value:n[l],!d(h?l:m+(g?".":"#")+l,e.forced)&&void 0!==u){if(typeof p==typeof u)continue;c(p,u)}(e.sham||u&&u.sham)&&a(p,"sham",!0),i(n,l,p,e)}}},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},(e,t,n)=>{var r=n(5);e.exports=r({}.isPrototypeOf)},(e,t,n)=>{var r=n(2),o=n(45),a=TypeError;e.exports=function(e){if(r(e))return e;throw a(o(e)+" is not a function")}},(e,t,n)=>{var r=n(4),o=n(29),a="__core-js_shared__",i=r[a]||o(a,{});e.exports=i},(e,t,n)=>{var r=n(4),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},(e,t,n)=>{var r=n(5),o=0,a=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},(e,t,n)=>{var r=n(46),o=n(30),a=r("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},e=>{e.exports={}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t,n)=>{var r=n(5),o=n(13),a=n(74);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},(e,t,n)=>{var r=n(79),o=n(2),a=n(21),i=n(15)("toStringTag"),s=Object,c="Arguments"==a(function(){return arguments}());e.exports=r?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),i))?n:c?a(t):"Object"==(r=a(t))&&o(t.callee)?"Arguments":r}},(e,t,n)=>{var r=n(5),o=n(3),a=n(21),i=Object,s=r("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):i(e)}:i},(e,t,n)=>{var r=n(38),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},e=>{e.exports=function(e){return null==e}},(e,t,n)=>{var r=n(40),o=n(42);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},(e,t,n)=>{var r=n(18),o=n(9),a=n(42),i=n(62),s=n(63),c=n(15),d=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,c=i(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!o(n)||a(n))return n;throw d("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},e=>{var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},(e,t,n)=>{var r=n(22),o=n(2),a=n(26),i=n(43),s=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&a(t.prototype,s(e))}},(e,t,n)=>{var r=n(44);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(e,t,n)=>{var r=n(60),o=n(3);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},(e,t,n)=>{var r=n(47),o=n(28);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.27.2",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},e=>{e.exports=!1},(e,t,n)=>{var r=n(6),o=n(3),a=n(49);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},(e,t,n)=>{var r=n(4),o=n(9),a=r.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},(e,t,n)=>{var r=n(6),o=n(3);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},(e,t,n)=>{var r=n(2),o=n(10),a=n(52),i=n(29);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,d=void 0!==s.name?s.name:t;if(r(n)&&a(n,d,s),s.global)c?e[t]=n:i(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},(e,t,n)=>{var r=n(5),o=n(3),a=n(2),i=n(7),s=n(6),c=n(64).CONFIGURABLE,d=n(65),l=n(53),u=l.enforce,p=l.get,_=String,m=Object.defineProperty,h=r("".slice),g=r("".replace),f=r([].join),v=s&&!o((function(){return 8!==m((function(){}),"length",{value:8}).length})),y=String(String).split("String"),E=e.exports=function(e,t,n){"Symbol("===h(_(t),0,7)&&(t="["+g(_(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||c&&e.name!==t)&&(s?m(e,"name",{value:t,configurable:!0}):e.name=t),v&&n&&i(n,"arity")&&e.length!==n.arity&&m(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?s&&m(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=u(e);return i(r,"source")||(r.source=f(y,"string"==typeof t?t:"")),e};Function.prototype.toString=E((function(){return a(this)&&p(this).source||d(this)}),"toString")},(e,t,n)=>{var r,o,a,i=n(66),s=n(4),c=n(9),d=n(12),l=n(7),u=n(28),p=n(31),_=n(32),m="Object already initialized",h=s.TypeError,g=s.WeakMap;if(i||u.state){var f=u.state||(u.state=new g);f.get=f.get,f.has=f.has,f.set=f.set,r=function(e,t){if(f.has(e))throw h(m);return t.facade=e,f.set(e,t),t},o=function(e){return f.get(e)||{}},a=function(e){return f.has(e)}}else{var v=p("state");_[v]=!0,r=function(e,t){if(l(e,v))throw h(m);return t.facade=e,d(e,v,t),t},o=function(e){return l(e,v)?e[v]:{}},a=function(e){return l(e,v)}}e.exports={set:r,get:o,has:a,enforce:function(e){return a(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return n}}}},(e,t,n)=>{var r=n(7),o=n(67),a=n(59),i=n(10);e.exports=function(e,t,n){for(var s=o(t),c=i.f,d=a.f,l=0;l<s.length;l++){var u=s[l];r(e,u)||n&&r(n,u)||c(e,u,d(t,u))}}},(e,t,n)=>{var r=n(5),o=n(7),a=n(20),i=n(56).indexOf,s=n(32),c=r([].push);e.exports=function(e,t){var n,r=a(e),d=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);for(;t.length>d;)o(r,n=t[d++])&&(~i(l,n)||c(l,n));return l}},(e,t,n)=>{var r=n(20),o=n(68),a=n(11),i=function(e){return function(t,n,i){var s,c=r(t),d=a(c),l=o(i,d);if(e&&n!=n){for(;d>l;)if((s=c[l++])!=s)return!0}else for(;d>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},(e,t,n)=>{"use strict";t.decode=t.parse=n(93),t.encode=t.stringify=n(94)},(e,t,n)=>{var r=n(98),o=n(36),a=n(16),i=n(11),s=function(e){var t=1==e;return function(n,s,c){for(var d,l=a(n),u=o(l),p=r(s,c),_=i(u);_-- >0;)if(p(d=u[_],_,l))switch(e){case 0:return d;case 1:return _}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},(e,t,n)=>{var r=n(6),o=n(18),a=n(108),i=n(25),s=n(20),c=n(39),d=n(7),l=n(48),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=s(e),t=c(t),l)try{return u(e,t)}catch(e){}if(d(e,t))return i(!o(a.f,e,t),e[t])}},(e,t,n)=>{var r,o,a=n(4),i=n(61),s=a.process,c=a.Deno,d=s&&s.versions||c&&c.version,l=d&&d.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},(e,t,n)=>{var r=n(27),o=n(38);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},(e,t,n)=>{var r=n(18),o=n(2),a=n(9),i=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!a(s=r(n,e)))return s;if(o(n=e.valueOf)&&!a(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!a(s=r(n,e)))return s;throw i("Can't convert object to primitive value")}},(e,t,n)=>{var r=n(6),o=n(7),a=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,s=o(a,"name"),c=s&&"something"===function(){}.name,d=s&&(!r||r&&i(a,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:d}},(e,t,n)=>{var r=n(5),o=n(2),a=n(28),i=r(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return i(e)}),e.exports=a.inspectSource},(e,t,n)=>{var r=n(4),o=n(2),a=r.WeakMap;e.exports=o(a)&&/native code/.test(String(a))},(e,t,n)=>{var r=n(22),o=n(5),a=n(109),i=n(110),s=n(13),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=i.f;return n?c(t,n(e)):t}},(e,t,n)=>{var r=n(17),o=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):a(n,t)}},e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},(e,t,n)=>{var r=n(17),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},(e,t,n)=>{var r=n(3),o=n(2),a=/#|\.prototype\./,i=function(e,t){var n=c[s(e)];return n==l||n!=d&&(o(t)?r(t):!!t)},s=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=i.data={},d=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},(e,t,n)=>{var r=n(19),o=Function.prototype,a=o.apply,i=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(a):function(){return i.apply(a,arguments)})},(e,t,n)=>{"use strict";var r=n(22),o=n(7),a=n(12),i=n(26),s=n(34),c=n(54),d=n(75),l=n(76),u=n(77),p=n(80),_=n(81),m=n(6),h=n(47);e.exports=function(e,t,n,g){var f="stackTraceLimit",v=g?2:1,y=e.split("."),E=y[y.length-1],w=r.apply(null,y);if(w){var A=w.prototype;if(!h&&o(A,"cause")&&delete A.cause,!n)return w;var b=r("Error"),O=t((function(e,t){var n=u(g?t:e,void 0),r=g?new w(e):new w;return void 0!==n&&a(r,"message",n),_(r,O,r.stack,2),this&&i(A,this)&&l(r,this,O),arguments.length>v&&p(r,arguments[v]),r}));if(O.prototype=A,"Error"!==E?s?s(O,b):c(O,b,{name:!0}):m&&f in w&&(d(O,w,f),d(O,w,"prepareStackTrace")),c(O,w),!h)try{A.name!==E&&a(A,"name",E),A.constructor=O}catch(e){}return O}}},(e,t,n)=>{var r=n(2),o=String,a=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},(e,t,n)=>{var r=n(10).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},(e,t,n)=>{var r=n(2),o=n(9),a=n(34);e.exports=function(e,t,n){var i,s;return a&&r(i=t.constructor)&&i!==n&&o(s=i.prototype)&&s!==n.prototype&&a(e,s),e}},(e,t,n)=>{var r=n(78);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},(e,t,n)=>{var r=n(35),o=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},(e,t,n)=>{var r={};r[n(15)("toStringTag")]="z",e.exports="[object z]"===String(r)},(e,t,n)=>{var r=n(9),o=n(12);e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},(e,t,n)=>{var r=n(12),o=n(82),a=n(83),i=Error.captureStackTrace;e.exports=function(e,t,n,s){a&&(i?i(e,t):r(e,"stack",o(n,s)))}},(e,t,n)=>{var r=n(5),o=Error,a=r("".replace),i=String(o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},(e,t,n)=>{var r=n(3),o=n(25);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},(e,t,n)=>{var r=n(15),o=n(85),a=n(10).f,i=r("unscopables"),s=Array.prototype;null==s[i]&&a(s,i,{configurable:!0,value:o(null)}),e.exports=function(e){s[i][e]=!0}},(e,t,n)=>{var r,o=n(13),a=n(111),i=n(33),s=n(32),c=n(87),d=n(49),l=n(31),u="prototype",p="script",_=l("IE_PROTO"),m=function(){},h=function(e){return"<"+p+">"+e+"</"+p+">"},g=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;f="undefined"!=typeof document?document.domain&&r?g(r):(t=d("iframe"),n="java"+p+":",t.style.display="none",c.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):g(r);for(var o=i.length;o--;)delete f[u][i[o]];return f()};s[_]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(m[u]=o(e),n=new m,m[u]=null,n[_]=e):n=f(),void 0===t?n:a.f(n,t)}},(e,t,n)=>{var r=n(55),o=n(33);e.exports=Object.keys||function(e){return r(e,o)}},(e,t,n)=>{var r=n(22);e.exports=r("document","documentElement")},(e,t,n)=>{"use strict";var r=n(6),o=n(89),a=TypeError,i=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!i(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},(e,t,n)=>{var r=n(21);e.exports=Array.isArray||function(e){return"Array"==r(e)}},e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},(e,t,n)=>{var r=n(52),o=n(10);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},(e,t,n)=>{"use strict";var r=n(13);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(n);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var d=0;d<c;++d){var l,u,p,_,m=e[d].replace(i,"%20"),h=m.indexOf(r);h>=0?(l=m.substr(0,h),u=m.substr(h+1)):(l=m,u="");try{p=decodeURIComponent(l),_=decodeURIComponent(u)}catch(e){console.warn(e);continue}t(a,p)?Array.isArray(a[p])?a[p].push(_):a[p]=[a[p],_]:a[p]=_}return a}},e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,o){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var a=encodeURIComponent(t(o))+r;return Array.isArray(e[o])?e[o].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[o]))})).filter(Boolean).join(n):o?encodeURIComponent(t(o))+r+encodeURIComponent(t(e)):""}},e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},(e,t,n)=>{var r=n(7),o=n(2),a=n(16),i=n(31),s=n(97),c=i("IE_PROTO"),d=Object,l=d.prototype;e.exports=s?d.getPrototypeOf:function(e){var t=a(e);if(r(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof d?l:null}},(e,t,n)=>{var r=n(3);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},(e,t,n)=>{var r=n(99),o=n(27),a=n(19),i=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?i(e,t):function(){return e.apply(t,arguments)}}},(e,t,n)=>{var r=n(21),o=n(5);e.exports=function(e){if("Function"===r(e))return o(e)}},(e,t,n)=>{var r=n(101),o=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw o("Wrong offset");return n}},(e,t,n)=>{var r=n(17),o=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw o("The argument can't be less than 0");return t}},(e,t,n)=>{var r=n(11);e.exports=function(e,t){for(var n=r(e),o=new t(n),a=0;a<n;a++)o[a]=e[n-a-1];return o}},(e,t,n)=>{var r=n(11);e.exports=function(e,t){for(var n=0,o=r(t),a=new e(o);o>n;)a[n]=t[n++];return a}},(e,t,n)=>{var r=n(11),o=n(17),a=RangeError;e.exports=function(e,t,n,i){var s=r(e),c=o(n),d=c<0?s+c:c;if(d>=s||d<0)throw a("Incorrect index");for(var l=new t(s),u=0;u<s;u++)l[u]=u===d?i:e[u];return l}},(e,t,n)=>{var r=n(35);e.exports=function(e){var t=r(e);return"BigInt64Array"==t||"BigUint64Array"==t}},(e,t,n)=>{var r=n(40),o=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw o("Can't convert number to bigint");return BigInt(t)}},,(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},(e,t,n)=>{var r=n(55),o=n(33).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,n)=>{var r=n(6),o=n(50),a=n(10),i=n(13),s=n(20),c=n(86);t.f=r&&!o?Object.defineProperties:function(e,t){i(e);for(var n,r=s(t),o=c(t),d=o.length,l=0;d>l;)a.f(e,n=o[l++],r[n]);return e}},(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(134),o=n(125),a=n(135),i=n(137);const s=Object.create(null),c={init(){},sendOnceDeprecatedUsage(e){e in s||(s[e]=1,this.params({borrowParams:{sdkDeprecatedUsage:{key:e,appId:(0,a.rh)()}},service:i.m_}))},params(e){o.Z.postToParent({type:"metrika",action:"params",data:e}).catch((e=>{(0,r.fF)(e)}))},reachGoal(e,t,n){o.Z.postToParent({type:"metrika",action:"reachGoal",data:{data:t,goal:e,params:n}}).catch((e=>{(0,r.fF)(e)}))}}},(e,t,n)=>{"use strict";var r=n(14),o=n(58).findLast,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLast",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},(e,t,n)=>{"use strict";var r=n(14),o=n(58).findLastIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findLastIndex",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0)}))},(e,t,n)=>{"use strict";var r=n(4),o=n(18),a=n(14),i=n(11),s=n(100),c=n(16),d=n(3),l=r.RangeError,u=r.Int8Array,p=u&&u.prototype,_=p&&p.set,m=a.aTypedArray,h=a.exportTypedArrayMethod,g=!d((function(){var e=new Uint8ClampedArray(2);return o(_,e,{length:1,0:3},1),3!==e[1]})),f=g&&a.NATIVE_ARRAY_BUFFER_VIEWS&&d((function(){var e=new u(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));h("set",(function(e){m(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=c(e);if(g)return o(_,this,n,t);var r=this.length,a=i(n),d=0;if(a+t>r)throw l("Wrong length");for(;d<a;)this[t+d]=n[d++]}),!g||f)},(e,t,n)=>{"use strict";var r=n(102),o=n(14),a=o.aTypedArray,i=o.exportTypedArrayMethod,s=o.getTypedArrayConstructor;i("toReversed",(function(){return r(a(this),s(this))}))},(e,t,n)=>{"use strict";var r=n(14),o=n(5),a=n(27),i=n(103),s=r.aTypedArray,c=r.getTypedArrayConstructor,d=r.exportTypedArrayMethod,l=o(r.TypedArrayPrototype.sort);d("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),n=i(c(t),t);return l(n,e)}))},(e,t,n)=>{"use strict";var r=n(104),o=n(14),a=n(105),i=n(17),s=n(106),c=o.aTypedArray,d=o.getTypedArrayConstructor,l=o.exportTypedArrayMethod,u=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{with:function(e,t){var n=c(this),o=i(e),l=a(n)?s(t):+t;return r(n,d(n),o,l)}}.with,!u)},(e,t,n)=>{"use strict";n.d(t,{Le:()=>o,VB:()=>i});n(1),n(23),n(57);var r=n(120);const o=!1;function a(){return o?window.parent:window}function i(e){var t,n;if("object"!=typeof window)return;return(null===(n=null===(t=a().appData)||void 0===t?void 0:t.location)||void 0===n?void 0:n.entryQuery[e])||(0,r.Z)(location)[e]}},(e,t,n)=>{"use strict";function r(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Object.create(null);return[e.hash.replace(/^#/,""),e.search.replace(/^\?/,"")].join("&").split("&").forEach((e=>{const[r,o]=e.split("=");try{n[r]=t?decodeURIComponent(o):o}catch(e){console.warn(e)}})),n}n.d(t,{Z:()=>r})},(e,t,n)=>{"use strict";n.d(t,{xYt:()=>y,NL:()=>$,NAu:()=>f,Go0:()=>H,p4F:()=>F,dsH:()=>Y,x2l:()=>B,SBp:()=>N,mSW:()=>v,lbi:()=>w});n(8);const r=["az","by","co.il","com","com.am","com.ge","com.tr","ee","fr","kg","kz","lt","lv","md","ru","tj","tm","uz"],o=["com"],a={az:["az"],by:["be","ru"],"co.il":["he"],com:["en","af","am","ar","az","be","bg","bn","ca","cs","da","de","el","en","es","et","eu","fa","fi","fr","gl","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","ne","nl","no","pl","pt","ro","ru","si","sk","sl","sr","sv","sw","ta","te","tg","th","tk","tl","tr","uk","ur","uz","vi","zh","zu"],"com.am":["hy"],"com.ge":["ka"],"com.tr":["tr"],ee:["et"],fr:["fr","en"],kz:["kk","ru"],lt:["lt"],lv:["lv"],md:["ro"],ru:["ru","en","be","uk","kk","uz"],tj:["tg"],tm:["tk"],uz:["uz"]};Object.keys(a).reduce(((e,t)=>(e[t]=a[t][0],e)),{});var i=n(123),s=n(122);var c,d;!function(e){e.CATEGORIZED="categorized",e.SUGGESTED="suggested",e.PLAYED="played",e.PROMOS="promos",e.ADV="adv",e.USER_PROFILE_RECENT_GAMES="user_profile_recent_games",e.USER_PROFILE_RECENT_GAMES_NEW="user_profile_recent_games_new",e.KINOPOISK="kinopoisk"}(c||(c={})),function(e){e.all="all",e.worldwide="worldwide",e.yan="yan"}(d||(d={}));var l,u;!function(e){e.ANDROID_OTHER="android_other",e.ANDROID_STANDALONE="android_standalone",e.ANDROID_YABRO="android_yabro",e.ANDROID_YASEARCH="android_yasearch",e.DESKTOP_OTHER="desktop_other",e.IOS_CHROME="ios_chrome",e.IOS_OTHER="ios_other",e.IOS_SAFARI="ios_safari",e.IOS_STANDALONE="ios_standalone",e.IOS_SUPERAPP="ios_superapp",e.MOBILE_OTHER="mobile_other",e.IGROTOK_LITE="igrotok_app_lite",e.IGROTOK_APP_ANDROID="igrotok_app_android"}(l||(l={})),function(e){e.GAME_REDIRECT="game-redirect",e.INSTALL="install",e.MAIN="main",e.PREVIEW="preview",e.PROFILE_NEW="profile-new",e.PROFILE="profile",e.PROMOS="promos"}(u||(u={}));var p,_,m,h,g,f;!function(e){e.DARK="dark",e.LIGHT="light"}(p||(p={})),function(e){e.DEFAULT="default",e.PLAYHOP="playhop"}(_||(_={})),function(e){e.CHROME_MOBILE="ChromeMobile",e.SAFARI_MOBILE="MobileSafari",e.STANDALONE="YandexGames",e.YA_SEARCH_APP="YaSearchApp",e.YANDEX_BROWSER="YandexBrowser",e.YANDEX_SEARCH="YandexSearch"}(m||(m={})),function(e){e.ANDROID="Android",e.IOS="iOS"}(h||(h={})),function(e){e.CURRENT_FRONT="currentFront",e.CURRENT_QA="currentQa",e.NEXT_FRONT="nextFront",e.NEXT_QA="nextQa",e.LEAD_FRONT="leadFront",e.LEAD_QA="leadQa"}(g||(g={})),function(e){e.YAN="YAN",e.HOP="HOP"}(f||(f={}));Object.freeze(Object.values(l).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:t})),{}));const v="/app";var y,E;!function(e){e.L="l",e.M="m",e.PAGE_ICON_DESKTOP="page_icon_desktop",e.PAGE_ICON_DESKTOP_WITH_PLAY="page_icon_desktop_with_play",e.PAGE_ICON_MOBILE="page_icon_mobile",e.PAGE_ICON_MOBILE_WITH_PLAY="page_icon_mobile_with_play",e.PAGE_SCROLLED_ICON_MOBILE="page_scrolled_icon_mobile",e.PREMIUM="premium",e.PREMIUM_BIG="premium_big",e.PROFILE_RECENT_GAMES="profile_recent_games",e.PROMO_BAR="promo_bar",e.RECOMMENDED_NEW="recommended_new",e.ADAPTIVE_RECOMMENDED_NEW="adaptive_recommended_new",e.S="s",e.SINGLE="single",e.SIZE_22="size22",e.SIZE_48="size48",e.SIZE_36="size36",e.YOUR_GAMES="your_games",e.YOUR_GAMES_S="your_games_s",e.TV="tv",e.CATEGORIZED_NEW_L="categorized_new_l"}(y||(y={})),function(e){e.PLAYED="played_games",e.CATEGORIZED="categorized-games",e.GRID="grid-list",e.PROMO="promos-page",e.PROFILE="profile-recent-games",e.BALANCE_SPEND="balance-spend",e.GAME_PAGE="game-page",e.MULTIMORDA="multimorda",e.UNKNOWN="unknown"}(E||(E={}));const w={achievementNotifier:"achievement_notifier",advOffForGalaxy:"adv_off_for_galaxy",advShowTimeoutFullscreen:"adv_show_fullscreen_timeout",advShowTimeoutRewarded:"adv_show_rewarded_timeout",advStickyBannerDisabled:"adv_sticky_banner_disabled",advStickyBannerGtp:"adv_sticky_banner_gtp",advStickyBannerPrebid:"adv_sticky_banner_prebid",advStickyBannerNative:"adv_sticky_banner_native",advStickyBannerNativeBannerIds:"adv_sticky_banner_native_banner_ids",advStickyBannerNativeLibrary:"adv_sticky_banner_native_library",advHighGptStickyBlockIds:"adv_high_gpt_sticky_block_ids",advStickyBannerLandscapeAdditionalBlock:"adv_sticky_banner_landscape_additional_block",advStickyBannerMinPortraitViewportHeight:"adv_sticky_banner_min_portrait_viewport_height",advStickyBannerMinLandscapeViewportHeight:"adv_sticky_banner_min_landscape_viewport_height",advStickyBannerForcedHideAd:"adv_sticky_banner_forced_hide_ad",advStickyBannerGameLocations:"adv_sticky_banner_game_locations",advStickyBannerUpToRight:"adv_sticky_banner_up_to_right",advStickyBannerBottomToRight:"adv_sticky_banner_bottom_to_right",advStickyBannerMinHeightForHigherAd:"adv_sticky_banner_min_height_for_higher_ad",advStickyBannerLoadTimeout:"adv_sticky_banner_load_timeout",advStickyBannerRefreshInterval:"adv_sticky_banner_refresh_interval",advStickyBannerDesktopWidth:"adv_sticky_banner_desktop_width",advStickyBannerPortraitHeight:"adv_sticky_banner_portrait_height",advStickyBannerLandscapeHeight:"adv_sticky_banner_landscape_height",advStickyBannerLandscapeWidth:"adv_sticky_banner_landscape_width",advGptStickyBannerIds:"adv_gpt_sticky_banner_ids",advYandexStickyBannerIds:"adv_yandex_sticky_banner_ids",advStickyBannerWhiteBackgroundOnDesktop:"adv_sticky_banner_white_background_on_desktop",adaptiveFeed:"adaptive_feed",adfoxVideoAdv:"adfox_video_adv",addGameShortcut:"add_game_shortcut",adsenseFullscreenPlacementType:"adsense_fullscreen_placement_type",adsenseAdChannel:"adsense_ad_channel",adScriptInitTimeout:"ad_script_init_timeout",adScriptAdsenseInitTimeout:"ad_script_adsense_init_timeout",alwaysShowGuard:"always_show_guard",alwaysShowUpdateNotifier:"always_show_update_notifier",azureMirror:"azure_mirror",asyncReact:"async_react",bannerCarousel:"bk",bannerCarouselDirect:"bk_direct",balancePopupWaitLoadTimeout:"balance_popup_wait_load_timeout",blurBackground:"blur_background",catalogGptAdPaths:"catalog_gpt_ad_paths",catalogGptAdPaths2:"catalog_gpt_ad_paths2",catalogGptBannerType:"catalog_gpt_banner_type",catalogRsyaMobileHeight:"catalog_rsya_mobile_height",catalogRsyaCustomBlock:"catalog_rsya_custom_block",catalogLogWithHoc:"catalog_log_with_hoc",catalogShortcutOverhand:"catalog_shortcut_overhand",catalogSmallerPremiumBigPic:"catalog_smaller_premium_big_pic",categoriesToExclude:"categories_to_exclude",newCategorizedGames:"new_categorized_games",canOpenAdBlockPopup:"can_open_add_block_popup",catalogShortcutPromptInstallWaitingPeriod:"catalog_shortcut_prompt_install_waiting_period",catalogShortcutPromptMaxCallCount:"catalog_shortcut_prompt_max_call_count",catalogShortcutPromptWaitingPeriod:"catalog_shortcut_prompt_waiting_period",cfMirror:"cf_mirror",cfMirrorGameUrl:"cf_mirror_game_url",cfMirrorGameUrlAppId:"cf_mirror_game_url_appid",cfMirrorStatic:"cf_mirror_static",cfMirrorStaticBuild:"cf_mirror_static_build",dailyWelcomeBonus:"daily_welcome_bonus",delayAdsOnDesktop:"delay_ads_on_desktop",delayAdsOnTTI:"delay_ads_on_tti",delayAdsLoad:"delay_ads_load",disableAdButtonInSticky:"disable_ad_button_in_sticky",disableAdButtonInStickyWithAnimation:"disable_ad_button_in_sticky_with_animation",disableAdButtonInStickAnimationDelay:"disable_ad_button_in_sticky_animation_delay",disableDynamicPartnerCSP:"disable_dynamic_partner_csp",delayInitYandexWaterfall:"delay_init_yandex_waterfall",delayLoadingMetrics:"delay_loading_metrics",delayLoadingMetricsTimeout:"delay_loading_metrics_timeout",delayLoadingPixelMetricsTimeout:"delay_loading_pixel_metrics_timeout",disableNativeAdv:"disable_native_adv",disableYandexWaterfall:"disable_yandex_waterfall",disableYandexWaterfallInCatalog:"disable_yandex_waterfall_in_catalog",disableYandexWaterfallOnInit:"disable_yandex_waterfall_on_init",disableAdButton:"disable_ad_button",disableRotationBanner:"disable_rotation_banner",disableWeeklyActivityBonus:"disable_weekly_activity_bonus",documentZoom:"document_zoom2",documentZoomMaxScreenWidth:"document_zoom2_max_screen_width",documentZoomMinScreenWidth:"document_zoom2_min_screen_width",earlyWorkTimer:"early_work_timer",earlyGuard:"early_guard",fakeFullscreenLoadTimeout:"fake_fullscreen_load_timeout",feedbackAlwaysShow:"feedback_always_show",gameAppPlayer:"game_app_player",gameAppPlayerControl:"game_app_player_control",gameAppPlayerSameTabInfo:"game_app_player_same_tab_info",gamePageDrawerEnabled:"game_page_drawer_enabled",gamePageExp:"game_page_exp",gamePageInvisible:"game_page_invisible",gamePageNoIcon:"game_page_no_icon",gamePageNoClick:"game_page_no_click",gametokPwaEnabled:"gametok_pwa_enabled",gametokPerformanceLevel:"gametok_performance_level",igtotokDelayBeforeNextGameLoading:"igrotok_delay_before_next_game_loading",gametokTimeToHidePlaceholder:"gametok_time_to_hide_placeholder",googleGptWaterfall:"google_gpt_waterfall",googleGDPR:"google_gdpr",yandexGDPR:"yandex_gdpr",guardDisabledForStandalone:"guard_disabled_for_standalone",hideAdvStickyBannerForNewUsers:"hide_adv_sticky_banner_for_new_users",hideStickyWhenAdShown:"hide_sticky_when_ad_shown",invalidateGamesCacheFrom:"invalidate_games_cache_from",iosHide:"ios_hide",isGoogleFakeFullscreenEnabled:"is_google_fake_fullscreen_enabled",kinopoiskAdvPage:"kinopoisk_adv_page",kinopoiskFeed:"kinopoisk_feed",kinopoiskPage:"kinopoisk_page",lockAdvScreenOrientation:"lock_adv_screen_orientation",mediation:"mediation",multiplePartnersPrebidAdv:"multiple_partners_prebid_adv",multiInstallPwa:"multi_install_pwa",nativeFullscreenBlock:"native_fullscreen_block",nativeRewardedBlock:"native_rewarded_block",nativeYandexFullscreenBlock:"native_yandex_fullscreen_block",nativeYandexRewardedBlock:"native_yandex_fullscreen_block",nativeAppodealFullscreenBlock:"native_appodeal_fullscreen_block",nativeAppodealRewardedBlock:"native_appodeal_rewarded_block",nativeApplovinFullscreenBlock:"native_applovin_fullscreen_block",nativeApplovinRewardedBlock:"native_applovin_rewarded_block",newAdvManager:"new_adv_manager",newAdvInterval:"new_adv_interval",newCSP:"new_csp",newLoggingPlayedFeedFC:"new_logging_played_feed_fc",newLoggingGameCardFC:"new_logging_gamecard_fc",newProfile:"new_profile",newTimeLogExp:"new_time_log_exp",noAdsCatalogPopup:"no_ads_catalog_popup",noAdsDuration:"no_ads_duration",noAdsPrice:"no_ads_price",noAdsPricePlus:"no_ads_price_plus",noAdsPopupForce:"no_ads_popup_force",noAdsPopupForcePopupGapTimeout:"no_ads_popup_force_popup_gap_timeout",noMobileGames:"no_mobile_games",noRecent:"no_recent",oauth:"oauth",onlyRsyaAd:"only_rsya_ad",originAgentCluster:"origin_agent_cluster",paymentsHidden:"hide_payments",playersBadge:"players_badge",prebidAdv:"prebid_adv",prebidAdvMedia152:"prebid_adv_media_152",prebidCatalogAdv:"prebid_catalog_adv",prebidCustomBlock:"prebid_custom_block",prebidDisabledBids:"prebid_disabled_bids",prebidExtraBids:"prebid_extra_bids",prebidTimeout:"prebid_timeout",prebidAuctionTimeout:"prebid_auction_timeout",prebidOneAuction:"prebid_one_auction",prebidClearSlot:"prebid_clear_slot",prebidBlockPlaceholder:"prebid_block_placeholder",prebidBlockLoader:"prebid_block_loader",prebidBlockControlsDelay:"prebid_block_controls_delay",preloadFullscreenAdv:"preload_fullscreen_adv4",preloadRewardedVideo:"preload_rewarded_video",preloadGame:"preload_game",premiumDuration:"premium_duration",premiumEnabled:"premium_enabled",premiumForced:"premium_forced",prettyAppUrl:"pretty_app_url",promoBlockWatcher:"promo_block_watcher",promoBar:"promo_bar",promoBarSpeed:"promo_bar_speed",promoBarAnimationDelay:"promo_bar_animation_delay",promoBarOptimizedAnimation:"promo_bar_optimized_animation",promoBarPortraitOnly:"promo_bar_portrait_only",promoBarDisableMobileAnimation:"promo_bar_disable_mobile_animation",promoBarGoToMainByBadgeClick:"promo_bar_go_to_main_by_badge_click",promoBannersEnabled:"promo_banners_enabled",promoBarBadgeOnly:"promo_bar_badge_only",promptPopupMobileText:"prompt_popup_mobile",portalCurrencyHidden:"hide_portal_currency",pixelTags:"pixel_tags",pushwooshNotification:"pushwoosh_notification",pushwooshNotificationPlayTime:"pushwoosh_notification_play_time",reactComponents:"react_components2",reactGuard:"react_guard",realRewarded:"real_rewarded",removeUtm:"remove_utm",rpsLimiterDisabled:"rps_limiter_disabled",redirectFromComToRu:"redirect_from_com_to_ru",removeAllTurboApps:"remove_all_turboapps",rewardedVideoTimeout:"rewarded_video_timeout",rewardedPCodeAdv:"rewarded_pcode_adv",refillOnTheSite:"refill_on_the_site",unobtrusivePwaInstallationFromMiniInfobar:"unobtrusive_pwa_installation_form_mini_infobar",obsessivePwaInstallationFromMiniInfobar:"obsessive_pwa_installation_form_mini_infobar",richerPwaInstallationUi:"richer_pwa_installation_ui",shortcutWaitOnGameLoadTimeout:"shortcut_wait_on_game_load_timeout",similarGames:"similar_games",stickyHeader:"sticky_header",stickyFooterDesktop:"sticky_footer_desktop",stickyOnZoomedPage:"sticky_on_zoomed_page",skipGuard:"skip_guard",transsionAdChannel:"transsion_ad_channel",transsionFullscreenPlacementType:"transsion_fullscreen_placement_type",delayVideoShowing:"delay_video_showing",videoShowingAfterLoad:"video_showing_after_load",tcfapiBoot:"tcfapi_boot",tcStringDebug:"tcstring_debug",tcfapiWait:"tcfapi_wait",tcStringSend:"tcstring_send",turnOffInterstitial:"turn_off_interstitial",tvDraftInput:"tv_draft_input",tvAdEnabled:"tv_ad_enabled",ttiMetricaWaitingTimeout:"tti_metrica_waiting_timeout",unitedPage:"united_page",unitedPageWithoutI:"united_page_without_i",unitedPageControl:"united_page_control",unmutedPrerollAdv:"unmuted_preroll_adv",unitedPlayPage:"united_play_page",updateExcludedCategories:"update_excluded_categories",useAdsGetLibraries:"use_ads_get_libraries",userActivityPopup:"user_activity_popup",userActivityPopupForTesting:"user_activity_popup_for_testing",userActivityPopupShowTime:"user_activity_popup_show_time",userInactiveTimer:"user_inactive_timer",uxFeedbackBoxSolutionEnabled:"ux_feedback_box_solution_enabled",uxFeedbackEnabled:"ux_feedback_enabled",webAppsEnabled:"web_apps_enabled",webvisorApps:"webvisor_apps",webvisorChance:"webvisor_chance",webvisorEnabled:"webvisor_enabled",welcomeBonus:"welcome_bonus",welcomeBonusAmount:"welcome_bonus_amount",withNativeClose:"with_native_close",yandexEmptyData:"yandex_empty_data",xsollaDisabled:"xsolla_disabled",igrotokOnboardingControlSetting:"igrotok_onboarding_control_setting",igrotokNativeAdvServiceEnabled:"igrotok_native_adv_service_enabled",newFeed:"new_feed",yourGamesSmall:"your_games_small",stickyRatingBadge:"sticky_rating_badge",newCategorizedFeedPortraitColumnsCount:"new_categorized_feed_portrait_columns_count",newCategorizedFeedLandscapeColumnsCount:"new_categorized_feed_landscape_columns_count",newCategorizedFeedWideFirstRow:"new_categorized_feed_wide_first_row",newSuggestedFeedPortraitColumnsCount:"new_suggested_feed_portrait_columns_count",newSuggestedFeedLandscapeColumnsCount:"new_suggested_feed_landscape_columns_count",newSuggestedFeedDesktopUseCovers:"new_suggested_feed_desktop_use_covers",newSuggestedFeedDesktopStripWhenNarrow:"new_suggested_feed_desktop_strip_when_narrow",newCategorizedFeedDesktopStripWhenNarrow:"new_categorized_feed_desktop_strip_when_narrow",rotateScreenButton:"rotate_screen_button",rotateScreenButtonAltText:"rotate_screen_button_alt_text",igrotokLiteDisableNonNativeFeatures:"igrotok_lite_disable_non_native_features",GDPRLoadAfterGame:"gdpr_load_after_game",igrotokJoystickInstructionPopupDelay:"igrotok_joystick_instruction_popup_delay",partitialAdvInit:"partitial_adv_init",hideSuggestedGamesDescriptions:"hide_suggested_games_descriptions",oneLineSuggestedGamesDescriptions:"one_line_suggested_games_descriptions",igrotokOnboardingMode:"igrotok_onboarding_mode",igrotokOnboardingFrequencySetting:"igrotok_onboarding_frequency_setting",igrotokShowSelectModePopup:"igrotok_show_select_mode_popup"};var A;!function(e){e.desktop_morda="desktop_morda",e.sa_morda="sa_morda",e.touch_morda="touch_morda"}(A||(A={}));s.U_.PLAYHOP,s.U_.YANDEX;var b,O;!function(e){e.COMMON_CACHE_HITS="common_cache_hits",e.COMMON_CACHE_HIT_RATIO="common_cache_hit_ratio",e.COMMON_CACHE_MISSES="common_cache_misses",e.GET_FEW_GAMES_SERVER_TIME="get_few_games_server_time",e.GETTING_COMMON_CACHE_TIME="getting_cache_time",e.SETTING_COMMON_CACHE_TIME="setting_cache_time"}(b||(b={})),function(e){e.AFTER_BACKEND_TIME="after_backend_time",e.BACKEND_TIME="backend_time",e.BACKEND_RESPONSE_TIME_FOR="backend_response_time_for_",e.FULL_BASE_TIME="full_base_time",e.FULL_DATA_TIME="full_data_time",e.FULL_USUAL_TIME="full_usual_time",e.MIDDLEWARE_BASE_TIME="middleware_base_time",e.MIDDLEWARE_DATA_TIME="middleware_data_time",e.MIDDLEWARE_USUAL_TIME="middleware_usual_time",e.PLAY_BACKEND_RESPONSE_TIME="play_backend_response_time",e.PLAY_FULL_TIME="play_full_time",e.PLAY_HANDLE_BACKEND_RESPONSE_TIME="play_handle_backend_response_time",e.PLAY_MIDDLEWARE_TIME="play_middleware_time",e.PLAY_SSR_TIME="play_ssr_time",e.UNITED_PLAY_FULL_TIME="united_play_full_time",e.UNITED_PLAY_MIDDLEWARE_TIME="united_play_middleware_time",e.UNITED_PLAY_SSR_TIME="united_play_ssr_time",e.SSR_TIME="ssr_time",e.UAAS_FULL_TIME="uaas_full_time"}(O||(O={}));Object.values({en:"com",kk:"kz",be:"by",ru:"ru",uz:"uz"});var S,P,T,k;!function(e){e.NO_ADS_ONE_DAY="no_ads.1",e.PREMIUM_ONE_DAY="premium.1"}(S||(S={})),function(e){e.GAMETOK="igrotok"}(P||(P={})),function(e){e.PLAYHOP="com",e.YANDEX="ru"}(T||(T={})),function(e){e.YANDEX="/games",e.PLAYHOP="",e.IGROTOK="/games"}(k||(k={}));function C(e,t){return t.reduce(((t,n)=>{var r;return t.push(...(r=`https://${e}.${n}`,[r,r.replace("https://","https://*.")])),t}),[])}C(s.U_.YANDEX,r).concat(C(s.U_.PLAYHOP,o)).concat(C(s.U_.YA,["ru"])).concat(["https://zenadservices.net"]);var I;!function(e){e.ADV_FULLSCREEN="adv_fullscreen",e.BALANCE_POPUP="balance_popup",e.BALANCE_REFILL="balance_refill",e.FEEDBACK="feedback",e.GAME_PAGE="game_page",e.NO_ADS_POPUP="no_ads_popup",e.PLAYED_GAMES="played_games",e.REWARDED_COUNTER="rewarded_counter",e.PURCHASE_DIALOG="purchase_dialog",e.SHORTCUT="shortcut",e.UNITED_PAGE="united_page"}(I||(I={}));const R=r.map((e=>e.replace(".","\\."))).join("|"),L=`(${s.U_.YANDEX}\\.(${R})|${s.U_.YA}\\.ru)`,D=(new RegExp(L),new RegExp(`^https://(www\\.)?${L}$`),new RegExp(`^https://([^.]+\\.)*${L}\\/`),o.map((e=>e.replace(".","\\."))).join("|")),x=`(${s.U_.PLAYHOP}\\.(${D}))`,N=(new RegExp(x),new RegExp(`^https://([^.]+\\.)*${x}$`)),M=["com","ru"].map((e=>e.replace(".","\\."))).join("|"),G=`(igrotok|igrotok-test|igrotok\\.msup|igrotok\\.games-test|igrotok\\.games-prestable|igrotok\\.crowdtest\\.games)\\.(${s.U_.YANDEX}|${s.U_.YA})\\.(${M})`;new RegExp(G),new RegExp(`^https://${G}$`),new RegExp(`^https://([^.]+\\.)*crowdtest\\.games\\.(${L})`),new RegExp(`^https://([^.]+\\.)*${L}${k.YANDEX}/igrotok`),new RegExp(`^https?://(?:.*?\\.)*${L}${k.YANDEX}/manifest/play/\\d+/?`),new RegExp(`^https?://(?:.*?\\.)*${L}${k.YANDEX}/manifest/catalogue/.*`),new RegExp(`^https?://(?:.*?\\.)*${L}${k.YANDEX}/manifest/sdk/.*`);var U;!function(e){e.YANDEX="yandex",e.APPODEAL="appodeal",e.APPLOVIN="applovin",e.DEFAULT=""}(U||(U={}));const F="from-gametok",B="is-gametok",Y="igrotok_mode";var H;!function(e){e.IGROTOK="igrotok",e.PLAYHOP="playhop",e.YANDEX="yandex"}(H||(H={}));var j,W;!function(e){e.ANONYMOUS="anonymous"}(j||(j={})),function(e){e.COLUMN="column",e.LINE="line",e.LIST_CATEGORY="listCategory",e.LIST_TYPE="listType",e.ROW="row",e.SIZE="size",e.TAB_CATEGORY="tabCategory"}(W||(W={}));var K,$;!function(e){e.USE_LOGGING="useLogging",e.WITH_LOG="with-log"}(K||(K={})),function(e){e.Left="ArrowLeft",e.Up="ArrowUp",e.Right="ArrowRight",e.Down="ArrowDown",e.Enter="Enter"}($||($={}));i.yR},(e,t,n)=>{"use strict";n.d(t,{KS:()=>s,U_:()=>r});var r,o;n(1);!function(e){e.PLAYHOP="playhop",e.YANDEX="yandex",e.YA="ya"}(r||(r={})),function(e){e.COMPANY_NAME="companyName",e.SERVICE_NAME="serviceName",e.WEBAPPS_CATEGORY_SERVICE_NAME="applicationsCategoryServiceName"}(o||(o={}));const a={[o.COMPANY_NAME]:{ru:"Яндекс",en:"Yandex"},[o.SERVICE_NAME]:{ru:"Игры",en:"Games"},[o.WEBAPPS_CATEGORY_SERVICE_NAME]:{ru:"Для%20жизни",en:"LifeStyle"}},i=(r.YANDEX,r.YA,r.PLAYHOP,o.COMPANY_NAME,o.SERVICE_NAME,o.WEBAPPS_CATEGORY_SERVICE_NAME,["ru","uk","be","kk","uz"]),s=e=>!e||i.includes(e)},(e,t,n)=>{"use strict";n.d(t,{WT:()=>r,yR:()=>o});const r=1e3,o=60*r},(e,t,n)=>{"use strict";n.d(t,{Bq:()=>s,G6:()=>a,Km:()=>c,gn:()=>o,zd:()=>i});n(1);var r=n(119);function o(){return/iPad|iPhone|iPod/.test(window.navigator.platform)||window.navigator.userAgent.includes("Mac")&&"ontouchend"in document}function a(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}function i(){return"viber"===(0,r.VB)("utm_source")}function s(e){return-1!==e.toLowerCase().indexOf("is_igroyal=1")}function c(){return s(window.location.href)}},(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});n(23),n(1),n(0),n(8);var r=n(134);class o extends Error{constructor(e,t,n){let{code:r,message:a}=e;super(a,t,n),this.name="AuthError",this.code=r,Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o)}toJSON(){return{code:this.code,message:this.message,name:this.name,stack:this.stack}}}const a=o;var i=n(132),s=n(133);const c={AuthError:a,FetchError:i.Z,PaymentsError:s.Z};var d=n(119),l=n(126),u=n(121);class p{constructor(){this.suppressNoGameFrameWarning=!1,this._promises=Object.create(null),this._externalListeners=Object.create(null),this._internalListeners=Object.create(null),this._addEventListener()}get _parentTarget(){return window.parent!==window?window.parent:void 0}get _gamePlayerFrame(){const e=function(){const e=document.querySelector("iframe.game-player");if(e)return e}();return e||console.warn("No game player frame to post"),e}get _gameFrame(){const e=function(){const e=window.YandexGamesSDK&&window.YandexGamesSDK.FRAME_ID;if(e&&"string"==typeof e){const t=document.getElementById(e);if(t)return t}}();return e||this.suppressNoGameFrameWarning||console.warn("No game frame to post"),e}get _gameFrameAllowedOrigins(){var e;try{const t=null===(e=this._gameFrame)||void 0===e?void 0:e.dataset.allowedOrigins;if(!t)return;return JSON.parse(t)}catch(e){return}}get _childTarget(){var e,t;return-1===window.location.pathname.indexOf(u.mSW)||(0,l.yO)(window.appData.abt.flags)?null===(t=this._gameFrame)||void 0===t?void 0:t.contentWindow:null===(e=this._gamePlayerFrame)||void 0===e?void 0:e.contentWindow}_addEventListener(){window.addEventListener("message",(e=>{const{source:t}=e.data||{};"YandexGamesSDK"===t&&(d.Le&&e.source===window.parent&&e.origin===window.location.origin&&"google-cmp"!==e.data.type?this.post(e.data):this._handleEvent(e))}))}_handleEvent(e){var t=this;const{type:n,action:o,messageId:a,originMessageId:i,payload:s,originPayload:d,data:l,error:u,errorJSON:p}=e.data||{},_=this._promises[i];_&&(delete this._promises[i],void 0===u?_.resolve({type:n,action:o,originPayload:d,data:l}):_.reject(function(e){let{error:t,errorJSON:n}=e;if(n)try{const e=JSON.parse(n);if(e&&e.name in c)return new c[e.name](e)}catch(e){(0,r.fF)(e)}return new Error(t||"")}({error:u,errorJSON:p})));const m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r={type:e.type||n,action:e.action||o,originMessageId:a,originPayload:s,data:e.data||{}};!function(e,t){t.error&&(e.error=String(t.error.message)||null,e.errorJSON=JSON.stringify(t.error)||null)}(r,e),t.postCallbackToChild(r)};const h=this._externalListeners[n]||[];for(const t of h)try{t(e,m)}catch(e){(0,r.fF)(e)}}onAllMessages(e,t){this.onExternalMessage(e,t),this.onInternalMessage(e,t)}offAllMessages(e,t){this.offExternalMessage(e,t),this.offInternalMessage(e,t)}onExternalMessage(e,t){this._onMessage(this._externalListeners,e,t)}offExternalMessage(e,t){this._offMessage(this._externalListeners,e,t)}onInternalMessage(e,t){this._onMessage(this._internalListeners,e,t)}offInternalMessage(e,t){this._offMessage(this._internalListeners,e,t)}_onMessage(e,t,n){if("string"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error('Wrong argument "types"');for(const r of t)r in e||(e[r]=[]),e[r].push(n)}_offMessage(e,t,n){if("string"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error('Wrong argument "types"');for(const r of t)r in e&&(e[r]=e[r].filter((e=>e!==n)))}externalPost(e){this._handleEvent(e)}post(e){const{action:t,type:n}=e;return new Promise((o=>{const a=`${Date.now()}-${Math.random()}`,i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r={action:e.action||t,data:e.data||{},errorInstance:e.error,originMessageId:a,type:e.type||n};o(r)},s=this._internalListeners[n]||[];for(const t of s)try{t({data:Object.assign({},e)},i)}catch(e){(0,r.fF)(e)}}))}hasParent(){return Boolean(this._parentTarget)}postToParent(e){const t=this._parentTarget;return t?this._post(t,e):Promise.reject(new Error("No parent to post message"))}hasChild(){this.suppressNoGameFrameWarning=!0;const e=Boolean(this._childTarget);return this.suppressNoGameFrameWarning=!1,e}postToChild(e){const t=this._childTarget;return t?this._post(t,e):Promise.reject(new Error(`No child to post message: type = ${e.type}, action = ${e.action}`))}postCallbackToChild(e){const t=this._childTarget;return t?this._post(t,e):Promise.reject(new Error(`No child to post message: type = ${e.type}, action = ${e.action}`))}_post(e,t){const n=Date.now(),r=`${n}-${Math.random()}`;t=Object.assign({},t,{source:"YandexGamesSDK",messageId:r});let o=e=>{},a=e=>{};const i=new Promise(((e,t)=>{o=e,a=t}));this._promises[r]={promise:i,resolve:o,reject:a,time:n};try{e.postMessage(t,"*")}catch(e){return delete this._promises[r],Promise.reject(e)}return i}}let _;if("object"==typeof window)window.YandexGamesSDKReactBridge?(window.YandexGamesSDKReactBridge.messaging||(window.YandexGamesSDKReactBridge.messaging=new p),_=window.YandexGamesSDKReactBridge.messaging):_=new p;else{const e=()=>{throw new Error("Not impl")};_={externalPost:t=>e,hasChild:()=>!1,hasParent:()=>!1,offAllMessages:e,offExternalMessage:e,offInternalMessage:e,onAllMessages:e,onExternalMessage:e,onInternalMessage:e,post:e=>Promise.reject(new Error("Not impl")),postToChild:e=>Promise.reject(new Error("Not impl")),postToParent:e=>Promise.reject(new Error("Not impl"))}}const m=_},(e,t,n)=>{"use strict";n.d(t,{ZD:()=>p,jX:()=>l,ki:()=>u,yO:()=>m});n(23),n(1);var r=n(127),o=n(121);function a(e){var t;return(null===(t=e.abt)||void 0===t?void 0:t.flags)||e}function i(e,t){return a(e)[t]}function s(e,t,n){return i(e,t)===n}function c(e,t,n){const r=i(e,t);return"array"===n?Array.isArray(r)?r:void 0:typeof r===n?r:void 0}function d(e,t){return c(e,t,"number")}function l(e){return s(e,o.lbi.cfMirrorStatic,!0)}function u(e){return d(e,o.lbi.delayLoadingPixelMetricsTimeout)||0}function p(e){return d(e,o.lbi.ttiMetricaWaitingTimeout)||r.U7}var _;!function(e){e.FEED="feed",e.EXTERNAL="external"}(_||(_={}));function m(e){return s(e,o.lbi.unitedPlayPage,!0)}var h;!function(e){e.ALWAYS="always",e.ONCE="once",e.NEVER="never"}(h||(h={}))},(e,t,n)=>{"use strict";n.d(t,{EE:()=>l,U7:()=>c});var r=n(131),o=n(124),a=n(128),i=n(130);const s="2795",c=6e4,d=(e,t,n)=>{const s=(0,o.G6)()?7500:15e3,c=null!=n?n:s,d=window.setTimeout((()=>{(e=>{(0,a.H)({block:i.W.WAIT_TTI,level:"warn",message:`[startWaitingTTI] Time to interactive took more than ${e/1e3}s`})})(c),l()}),c),l=(0,r.Z)((()=>{window.clearTimeout(d),e()}));t(l)},l=(e,t)=>{d(e,(e=>{var t,n,r,o;(null===(t=window.Ya)||void 0===t?void 0:t.Rum)&&!(null===(n=window.Ya)||void 0===n?void 0:n.Rum.getTimeMarks()[s])?null===(o=null===(r=window.Ya)||void 0===r?void 0:r.Rum)||void 0===o||o.on(s,e):e()}),t)}},(e,t,n)=>{"use strict";n.d(t,{uh:()=>s,H:()=>d});n(0);var r=n(129);n(1);const o=[{regexp:new RegExp(/Monetization error \[yandex]: yandex error - Container with id .* is hidden/),title:"Monetization error [yandex]: yandex error - Container is hidden"},{regexp:new RegExp(/Monetization error \[google]: yandex error - Container with id .* is hidden/),title:"Monetization error [google]: yandex error - Container is hidden"},{regexp:new RegExp(/Monetization error \[yandex]: yandex error - Container with id .* is not found \(init\)/),title:"Monetization error [yandex]: yandex error - Container is not found (init)"},{regexp:new RegExp(/Monetization error \[google]: yandex error - Container with id .* is not found \(init\)/),title:"Monetization error [google]: yandex error - Container is not found (init)"}];var a=n(130);const i=()=>{var e;return Boolean("undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.Ya)||void 0===e?void 0:e.Rum))},s=()=>{var e,t;return Boolean(i()&&(null===(t=null===(e=window.Ya)||void 0===e?void 0:e.Rum)||void 0===t?void 0:t.logError))};function c(){var e,t,n;try{throw new Error}catch(r){const o=/(\w+)@|at (.+) \(/g,a=r.stack||"";if(a.matchAll){const r=Array.from(a.matchAll(o))||[];return(null===(e=r[2])||void 0===e?void 0:e[2])||(null===(t=r[1])||void 0===t?void 0:t[2])||(null===(n=r[0])||void 0===n?void 0:n[2])}return}}const d=function(e,t){var n,i,d,l,u;if(!s())return;let{additional:p,level:_,message:m,prefix:h,source:g="catalog",sourceMethod:f}=e,v=(0,r._T)(e,["additional","level","message","prefix","source","sourceMethod"]);m=(e=>{for(const t of o)if(t.regexp&&-1!==e.search(t.regexp)||t.substr&&e.includes(t.substr))return`[grouped] ${t.title}`;return e})(m||(null==t?void 0:t.message)||String(e)),_=_||(null===(i=null===(n=window.Ya)||void 0===n?void 0:n.Rum)||void 0===i?void 0:i.ERROR_LEVEL.ERROR)||"error",t=t||e,h&&(m=`${h} ${m}`);const y=Object.assign({additional:p,block:null!==(d=v.block)&&void 0!==d?d:a.W.RUM_UNSPECIFIED,ignoreErrorMessage:!0,level:_,message:m,source:g,sourceMethod:f||c()},v);null===(u=null===(l=window.Ya)||void 0===l?void 0:l.Rum)||void 0===u||u.logError(y,t)};parseInt("1685093933",10)},(e,t,n)=>{"use strict";n.d(t,{_T:()=>r,mG:()=>o});function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function o(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))}Object.create;Object.create},(e,t,n)=>{"use strict";var r;n.d(t,{W:()=>r}),function(e){e.AD_FOX="Adfox",e.ADV_STICKY="AdvSticky",e.APP_COMPONENT="App: component",e.APP_PAGE="App: page",e.BUNDLES_PLAY="Bundles play",e.GAME_IMAGE="GameImage",e.GAMETOK="Gametok",e.GOOGLE_ADS="Google ads",e.ERROR_BOUNDARY="Error boundary",e.ERROR_COUNTER="Error counter",e.I18N="i18n",e.METRIKA="Metrika",e.MONETIZATION="Monetization",e.PARTNER="Embedding in partner",e.OFFLINE_MOD_HELPER="Offline mod helper",e.REDUX="Redux",e.REDUX_GAMETOK="Redux in Gametok",e.RUM_NATIVE_ERROR="Rum: native error in catalog",e.RUM_UNSPECIFIED="Rum: unspecified error without block",e.SERVER_MIDDLEWARE="Server middleware",e.SERVICE_WORKER_REGISTRATION="ServiceWorker Registration",e.SERVICE_WORKER_UNREGISTRATION="ServiceWorker Unregistration",e.SHORTCUTS_POPUP_MANAGER="ShortcutsPopupManager",e.SSE="Notify API",e.TURBO_APP="Turbo app",e.UTILS_LOCATION="Utils: location",e.UTILS_UNIVERSAL="Utils: universal",e.XSOLLA="Xsolla",e.WAIT_TTI="Wait TTI",e.WEB_PUSH="WebPush"}(r||(r={}))},(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(0);function r(e){return function(e,t){if("function"!=typeof t)throw new Error("Argument is not a function");let n;return function(){if(--e>0&&t){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];n=t.apply(this,o)}return e<=1&&(t=void 0),n}}(2,e)}},(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(0);class r extends Error{constructor(e,t,n){let{code:o,httpStatus:a,message:i}=e;super(i,t,n),this.name="FetchError",this.code=o,this.httpStatus=a,Object.setPrototypeOf(this,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r)}toJSON(){return{code:this.code,httpStatus:this.httpStatus,message:this.message,name:this.name,stack:this.stack}}}const o=r},(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});n(0);class r extends Error{constructor(e,t,n){let{code:o,httpStatus:a,message:i}=e;super(i,t,n),this.name="PaymentsError",this.code=o,this.httpStatus=a,Object.setPrototypeOf(this,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r)}toJSON(){return{code:this.code,httpStatus:this.httpStatus,message:this.message,name:this.name,stack:this.stack}}}const o=r},(e,t,n)=>{"use strict";n.d(t,{Ts:()=>d,X4:()=>a,Zi:()=>i,fF:()=>c});n(0);var r=n(125),o=n(135);const a="YandexSDKLogError";function i(e){var t;let n;try{throw new Error}catch(r){const o=/(\w+)@|at (.+) \(/g,a=e||r.stack||"";if(a.matchAll){const e=Array.from(a.matchAll(o))||[];n=null===(t=e[e.length-1])||void 0===t?void 0:t[2]}}return n}function s(e,t,n){var a,s,c;const d=function(e){var t,n;const r={columnNumber:null!==(t=e.columnNumber)&&void 0!==t?t:-1,fileName:e.fileName||"",lineNumber:null!==(n=e.lineNumber)&&void 0!==n?n:-1,name:e.name||"Error",message:e.message||String(e),stack:e.stack||""},a={appId:(0,o.rh)(),version:parseInt("1685093933",10)||0};return r.additional=Object.assign(Object.assign({},e.additional),a),r}(t);n.message&&(d.message=n.message),n.prefix&&(d.message=`${n.prefix} ${d.message}`),r.Z["YaGames"in window?"postToParent":"post"]({data:{block:`ErrorCounter/common: ${e}`,error:d,level:null!==(a=n.level)&&void 0!==a?a:"error",source:e,sourceMethod:null!==(s=n.sourceMethod)&&void 0!==s?s:i(d.stack),type:null!==(c=n.type)&&void 0!==c?c:"error"},type:"error"}).catch(console.warn)}function c(e){s("sdk",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),console.warn(e)}function d(e){s("sdk-game",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),console.error(e,a)}},(e,t,n)=>{"use strict";n.d(t,{$g:()=>c,H8:()=>d,mv:()=>u,rh:()=>l});n(0);var r=n(136),o=n(119),a=n(128),i=n(130);const s=/^(?:https:\/\/app-([^.]+)\.games\.s3\.yandex\.net\/|https:\/\/games\.s3\.mdst\.yandex\.net\/([^/]+)\/|https:\/\/(?:.+\.)*yandex\.(?:ru|by|kz|ua|uz|com|com\.tr|az|co\.il|com\.am|com\.ge|ee|fi|fr|lt|lv|md|pl|tj|tm)\/games\/play\/([^/?&#]+))/;function c(e){const t={};u()&&(t.draft="true");const n=l();return n&&(t["app-id"]=n),(0,r.Z)({url:e,params:t})}function d(e){return"1"===(0,o.VB)("revert_unique_id")?(0,r.Z)({url:e,params:{revert_unique_id:"1"}}):e}function l(){var e,t;if("undefined"==typeof window)return"";if(window.YandexGamesSDK&&window.YandexGamesSDK.environment)return window.YandexGamesSDK.environment.app.id;if(window.YandexGamesSDKEnvironment)return window.YandexGamesSDKEnvironment.app.id;console.warn("Can't get app id from `window.YandexGamesSDKEnvironment`",null===window||void 0===window?void 0:window.YandexGamesSDKEnvironment),(0,a.H)({block:i.W.UTILS_LOCATION,level:null===(t=null===(e=window.Ya)||void 0===e?void 0:e.Rum)||void 0===t?void 0:t.ERROR_LEVEL.WARN},new Error("Old way: get app id from location"));const n=String(window.location).match(s);return n?n[1]||n[2]||n[3]:(0,o.VB)("app-id")||""}function u(){var e;return(null===(e=window.YandexGamesSDK)||void 0===e?void 0:e.game)?window.YandexGamesSDK.game.info.isDraft:"true"===(0,o.VB)("draft")}},(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(0),n(1);function r(e){const{url:t,params:n={},hash:r={},removed:a=[],encoded:i=!0}=e;if(!t)throw new Error("addGetParams: function has no url");const s=t.split("#"),c=s[0].split("?");let d=o(c,n,i,a),l=o(s,r,i,a);return d&&(d=`?${d}`),l&&(l=`#${l}`),`${c[0]}${d}${l}`}function o(e,t,n,r){return e.length>1&&e[1].length&&e[1].split("&").forEach((e=>{const[n,r]=e.split("=");if(!t[n])try{t[n]=decodeURIComponent(r)}catch(e){t[n]=r}})),Object.keys(t).filter((e=>!r.includes(e))).filter((e=>void 0!==e)).map((e=>`${e}=${n?encodeURIComponent(t[e]):t[e]}`)).join("&")}},(e,t,n)=>{"use strict";n.d(t,{Tc:()=>l,m_:()=>d});var r,o,a,i,s=n(121);"undefined"!=typeof navigator&&navigator;var c;!function(e){e.AZERION="azerion",e.MEDIA_152="media_152",e.MULTIPLE_PARTNERS="multiple_partners"}(c||(c={}));const d="undefined"!=typeof window&&((null===(o=null===(r=window.YandexGamesSDK)||void 0===r?void 0:r.environment)||void 0===o?void 0:o.serviceName)||(null===(a=window.YandexGamesSDKEnvironment)||void 0===a?void 0:a.serviceName)||(null===(i=window.clientMetadata)||void 0===i?void 0:i.serviceName))||s.Go0.YANDEX,l=5e3}],t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{if(void 0!==n){var e=n.u,t=n.e,r={},o={};n.u=function(t){return e(t)+(r.hasOwnProperty(t)?"?"+r[t]:"")},n.e=function(r){return t(r).catch((function(t){var a=o.hasOwnProperty(r)?o[r]:3;if(a<1){var i=e(r);throw t.message="Loading chunk "+r+" failed after 3 retries.\n("+i+")",t.request=i,t}return new Promise((function(e){setTimeout((function(){o[r]=a-1,e(n.e(r))}),0)}))}))}}})();var r={};(()=>{"use strict";n.d(r,{default:()=>xr});n(0),n(1);var e,t,o,a,i,s=n(129);!function(e){e.AppPage="app-page",e.Frontback="frontback",e.Catalog="catalog",e.Play="play",e.UnitedPlay="united-play",e.Igrotok="igrotok",e.SdkV2="sdk-v2",e.SdkV1="sdk-v1",e.SdkGameDistribution="sdk-game-distribution-v1",e.Polyfill="polyfill",e.PlayhopLegal="playhop-legal",e.PumpkinPlayhop="pumpkin-playhop",e.PumpkinYandex="pumpkin-yandex"}(e||(e={})),function(e){e.Tv="tv",e.Mobile="mobile",e.Desktop="desktop",e.Sw="sw"}(t||(t={})),function(e){e.Server="server",e.Client="client"}(o||(o={})),function(e){e.IgrotokOnboarding="onboarding",e.SdkProxy="proxy"}(a||(a={})),function(e){e.LEGACY="legacy",e.INTERSECTION_OBSERVER="intersection-observer",e.SMOOTH_SCROLL="smooth-scroll"}(i||(i={}));const c={[i.LEGACY]:"3.27.2",[i.INTERSECTION_OBSERVER]:"0.12.2",[i.SMOOTH_SCROLL]:"0.4.4"};n(8);const d=e=>{const{async:t,content:n,crossorigin:r,id:o,nonce:a,onErrCb:i,onLoadCb:s,parentElement:c,src:d}=e,l=document.createElement("script");if(s&&(l.onload=s),i&&(l.onerror=i),l.type="text/javascript",t&&(l.async=t),d&&(l.src=d),a&&l.setAttribute("nonce",a),r&&l.setAttribute("crossorigin",r),o&&l.setAttribute("id",`${o}-script`),n){const e=document.createTextNode(n);l.appendChild(e)}c?c.appendChild(l):document.body.appendChild(l)};function l(e,t){return function(e,t){return`${e}polyfill/${t}`}(e,`${c[t]}-${t}.js`)}var u=n(134),p=n(125);const _=()=>{["click","dblclick","mouseup","pointerup","touchend"].forEach((e=>{var t;document.addEventListener(e,(t=`${e}-on-body`,()=>{window.top&&window.top.postMessage({type:"document-events",action:t},"*")}),!0)}))};var m=n(120);const h=e=>{const t=new URL(e);class n{constructor(){this.items=[]}contains(e){return this.items.includes(e)}item(e){var t;return null!==(t=this.items[e])&&void 0!==t?t:null}get length(){return this.items.length}*[Symbol.iterator](){}}return{location:{ancestorOrigins:new n,hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search,assign:()=>{},reload:()=>{},replace:()=>{}}}},g="undefined"!=typeof window?window:h("https://yandex.ru/games/app/1");var f,v,y,E=n(121);!function(e){e.CLICK="click",e.CLICK_GAME_PAGE="click_game_page",e.CLOSE_GAME_PAGE="close_game_page",e.COMMENT="comment",e.GAME_STARTED="game_started",e.OPENING_GAME_PAGE="opening_game_page",e.OPEN_GAME_PAGE="open_game_page",e.RATING="rating",e.SHOW="show",e.TIME="time"}(y||(y={}));var w;!function(e){e.ABLOCK_POPUP_OPEN="adblock_popup_open",e.ABLOCK_POPUP_HELP="adblock_popup_help",e.ABLOCK_POPUP_CLOSE="adblock_popup_close",e.ACCEPTED_YAN_GAMES_LINK_CLICK="accepted_yan_games_link_click",e.ADAPTIVE_FEED_USER="adaptive_feed_user",e.ADD_RECENT_GAME="add_recent_game",e.ADV_CLICK="adv_click",e.ABOUT_YAN_INFO_CLOSE_CLICK="about_yan_info_close_click",e.BALANCE_POPUP_CLOSE="balance_popup_close",e.BALANCE_REFILLED_BUY_MORE="balance_refilled_buy_more",e.BALANCE_REFILLED_CLOSE="balance_refilled_close",e.BALANCE_REFILLED_COPY="balance_refilled_copy",e.BALANCE_REFILLED_SHOW="balance_refilled_show",e.BEFORE_INSTALL_EVENT_CATCH="before_install_event_catch",e.BEFORE_INSTALL_EVENT_EXIST="before_install_event_exist",e.CALENDAR_PROMO_CLICK="calendar_promo_click",e.CATALOG_SHORTCUT_CLICK="catalog_shortcut_click",e.CATEGORY_CLICK="category_click",e.CLICK_PARTNER_BUTTON="click_partner_button",e.CLICK_SHARE_LEADERBOARD="click_share_leaderboard",e.CLICK_SHARE_LEADERBOARD_CLIPBOARD="click_share_leaderboard_clipboard",e.CLICK_SHORTCUT_BUTTON="click_shortcut_button",e.CLICK_SIDEBAR_BUTTON="click_sidebar_button",e.CREATE_LEADERBOARD="create_leaderboard",e.CLOSE_BUTTON_CLICK="close_button_click",e.DELETE_RECENT_GAME="delete_recent_game",e.DEVELOPER_PAGE_CLICK="developer_page_click",e.GAME_PROMO_OPEN="game_promo_open",e.GAME_PROMO_CLOSE="game_promo_close",e.GOING_TO_INSTALL_GAME="going_to_install_game_",e.SHORTCUT_GAME_API_CHECK="shortcut_game_api_check",e.JOIN_LEADERBOARD_OPEN="join_leaderboard_open",e.GUARD_APPLY="guard_apply",e.INVALIDATE_GAME_CACHE="invalidate_game_cache",e.INVALIDATE_GAME_CACHE_SUCCESS="invalidate_game_cache_success",e.INVALIDATE_GAME_CACHE_FAILED="invalidate_game_cache_failed",e.INVALIDATE_CATALOG_CACHE="invalidate_catalog_cache",e.INVALIDATE_CATALOG_CACHE_SUCCESS="invalidate_catalog_cache_success",e.INVALIDATE_CATALOG_CACHE_FAILED="invalidate_catalog_cache_failed",e.MERGE_CONFLICTS_RESOLVE="merge_conflicts_resolve",e.MERGE_CONFLICTS_SHOW="merge_conflicts_show",e.NEW_PROMO_BUTTON_CLICK="new_promo_button_click",e.NO_ADS_CATALOG_MENU_CLICK="no_ads_catalog_menu_click",e.NO_ADS_CATALOG_POPUP_HAS_EXP="no_ads_catalog_popup_has_exp",e.NO_ADS_CATALOG_POPUP_SHOWN="no_ads_catalog_popup_shown",e.NO_ADS_CATALOG_PROFILE_CLICK="no_ads_catalog_profile_click",e.NO_ADS_CATALOG_PROFILE_PURCHASE_BUTTON_CLICK="no_ads_catalog_profile_purchase_button_click",e.NO_ADS_GAME_POPUP_BUTTON_CLICKED="no_ads_game_popup_button_clicked",e.NO_ADS_GAME_POPUP_CLOSED="no_ads_game_popup_closed",e.NO_ADS_GAME_POPUP_HAS_EXP="no_ads_game_popup_has_exp",e.NO_ADS_GAME_POPUP_SHOWN="no_ads_game_popup_shown",e.PROMO_CARD_CLICK="promo_card_click",e.PROMOS_BANNER_CLICK="promos_banner_click",e.PROMOS_GAMECARD_CLICK="promos_gamecard_click",e.PURCHASES_PLATFORM_PRODUCT_ERROR="purchases_platform_product_error",e.PURCHASES_PLATFORM_PRODUCT_START="purchases_platform_product_start",e.PURCHASES_PLATFORM_PRODUCT_SUCCESS="purchases_platform_product_success",e.PURCHASES_PURCHASE_SUCCESS="purchases_trust_purchase_success",e.PURCHASES_PURCHASE_OPEN="purchases_purchase_open",e.PURCHASES_PURCHASE_OPENED="purchases_purchase_opened",e.PURCHASES_PURCHASE_CLOSE="purchases_purchase_close",e.PURCHASES_PURCHASE_PACKAGE_CHANGE="purchases_purchase_package_change",e.PURCHASES_PURCHASE_PAYMENT_SYSTEM_LOAD_ERROR="purchases_purchase_payment_system_load_error",e.PURCHASES_PURCHASE_EMAIL_ENTERED="purchases_purchase_email_entered",e.PURCHASES_PURCHASE_UNSUCCESS="purchases_purchase_unsuccess",e.PURCHASES_PURCHASE_PAYMENT_SUCCESS="purchases_purchase_payment_success",e.PURCHASES_PURCHASE_PAYMENT_PART_SUCCESS="purchases_purchase_payment_part_success",e.PORTAL_CURRENCY_ON_BOARD_CLICK="portal_currency_on_board_click",e.RECOVERY_CODE_APPLY="recovery_code_apply",e.RECOVERY_CODE_COPY="recovery_code_copy",e.REMOVE_GAME_CACHE="remove_game_cache",e.REFILL_BUTTON_CLICK="refill_button_click",e.REFILL_WITH_BONUS_BUTTON_CLICK="refill_with_bonus_button_click",e.SEARCH_BUTTON_CLICK="search_button_click",e.SHARE_BUTTON_CLICK="share_button_click",e.SHORTCUT_API_SHOW="shortcut_api_show",e.SHORTCUT_GAME_CHECK="shortcut_game_check",e.SHORTCUT_GAME_CLICK="shortcut_game_click",e.SHORTCUT_GAME_CLICK_CLOSE="shortcut_game_close_click",e.SHORTCUT_GAME_SHOW="shortcut_game_show",e.SHORTCUT_POPUP_CHECK="shortcut_popup_check",e.SHORTCUT_POPUP_CLICK="shortcut_popup_click",e.SHORTCUT_POPUP_CLICK_CLOSE="shortcut_popup_close_click",e.SHORTCUT_POPUP_DISAPPEARED="shortcut_popup_disappeared",e.SHORTCUT_POPUP_EXP_EXIST="shortcut_popup_exp_exist",e.SHORTCUT_POPUP_NOT_SHOW="shortcut_popup_not_show",e.SHORTCUT_POPUP_NO_EVENT_TO_SHOW="shortcut_popup_no_event_to_show",e.SHORTCUT_POPUP_SHOW="shortcut_popup_show",e.SHORTCUT_POPUP_IOS_SHOW="shortcut_popup_ios_show",e.SHORTCUT_POPUP_IOS_CLICK="shortcut_popup_ios_click",e.SHORTCUT_PROMO_CLICK="shorcut_promo_click",e.SHORTCUT_PROMPT_SHOW="shortcut_prompt_show",e.SHORTCUT_USER_CHOICE_ACCEPTED="shortcut_user_choice_accepted",e.SHORTCUT_USER_CHOICE_DISMISSED="shortcut_user_choice_dismissed",e.SHOW_GROUP_LEADERBOARDS="show_group_leaderboard",e.SUPPORT_BUTTON_CLICK="support_button_click",e.SUCCESS_PURCHASE="success_purchase_%app_id%",e.SUCCESS_PURCHASE_TRANSACTION="success_purchase_transaction",e.TURBOAPPS_WITH_ERROR_FOUND="turboapps_with_error_found",e.USER_ACTIVITY_POPUP_SHOW="user_activity_popup_show",e.WELCOME_BONUS_POPUP_SHOW="welcome_bonus_popup_show",e.WELCOME_BONUS_POPUP_CLICK="welcome_bonus_popup_click",e.PLAY_UPDATED="play_updated",e.SHORTCUT_DAILY_INFO="shortcut_daily_info",e.TAG_CLICK="tag_click",e.UNITED_PAGE_SUCCESS_AUTH="united_page_success_auth",e.USER_POPUP_ACTION="user_popup_action",e.USER_IS_CHILD="user_is_child",e.IGROTOK_SETTINGS_OPEN="igrotok_settings_open",e.IGROTOK_SETTINGS_SELECT_HIGH="igrotok_settings_select_high",e.IGROTOK_SETTINGS_SELECT_MEDIUM="igrotok_settings_select_medium",e.IGROTOK_SETTINGS_SELECT_LOW="igrotok_settings_select_low",e.IGROTOK_FEED_PROMO_NATIVE_CLICK="igrotok_feed_promo_native_click"}(w||(w={}));const A={playhop:92757394,yandex:49035923},b={FULLSCREEN:"R-I-320442-1",REWARDED_VIDEO:"R-I-328933-4",STICKY_MOBILE_LANDSCAPE_UPPER:"R-I-328933-35",STICKY_MOBILE_UPPER:"R-I-328933-34",STICKY_DESKTOP_RIGHT:"R-I-328933-33"};var O;!function(e){e[e.NONE=0]="NONE",e[e.LOG_TO_CONSOLE=1]="LOG_TO_CONSOLE",e[e.LOG_WITH_TRACE=2]="LOG_WITH_TRACE"}(O||(O={}));const S="object"==typeof window?parseInt(null!==(v=null===(f=String(window.location).match("sdk-debug-mode=([1-2])"))||void 0===f?void 0:f[1])&&void 0!==v?v:"0",10):O.NONE,P=Boolean(S),T=P&&class{static SetFlag(e,t){return e|t}static UnsetFlag(e,t){return e&~t}static HasFlag(e,t){return(e&t)===t}static ToggleFlag(e,t){return e^t}}.HasFlag(S,O.LOG_WITH_TRACE);function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;var r,o;if(!("boolean"==typeof t?t:P))return function(){const e=()=>{};return e.spoiler=()=>e,e.spoilerFunc=()=>e,e}();e=`%cDebug%c${e}%c`;const a="background: dimgrey;\n         color: darkgrey;\n         font-size: 8px;\n         font-weight: normal;\n         border-radius:4px 0 0 4px;\n         padding: 2px",i=`background: ${null!==(r=null==n?void 0:n.background)&&void 0!==r?r:"peru"};\n         color: ${null!==(o=null==n?void 0:n.text)&&void 0!==o?o:"black"};\n         font-size: 8px;\n         font-weight: normal;\n         border-radius: 0 4px 4px 0;\n         padding: 2px;`,s="font-weight: normal;";if(!T){const t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];console.info(e,a,i,s,...n)};return t.spoiler=()=>t,t.spoilerFunc=()=>t,t}let c=[];const d=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(console.groupCollapsed(e,a,i,s,...n),c.length){for(const e of c)console.log(...e);c=[]}console.trace(),console.groupEnd()};return d.spoiler=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.push(t),d},d.spoilerFunc=e=>(c.push([e()]),d),d}var C;!function(e){e.GAME="game",e.GAME_PAGE="gamePage",e.BLOCK="block",e.ADV="adv",e.KINOPOISK="kinopoisk"}(C||(C={}));const I=1,R=1.5;var L;!function(e){e.AVATAR="avatar",e.GUARD="guard",e.MENU="menu",e.HEADER="header",e.SLIDE="slide"}(L||(L={}));var D;!function(e){e.APPLICATION_STATE="yandexGames_application_state",e.GAMETOK_APPLICATION_STATE="yandexGames_gametok_application_state"}(D||(D={}));var x,N,M,G;function U(){var e,t;if("object"!=typeof window)return I;const n=(null===(e=null===window||void 0===window?void 0:window.appData)||void 0===e?void 0:e.networkThtrottlingRatio)||1;return(null===(t=null===window||void 0===window?void 0:window.appData)||void 0===t?void 0:t.isWorldWide)?R*n:I*n}!function(e){e.Control="control",e.AllFeatures="all-features"}(x||(x={})),function(e){e.Catalog="catalog",e.Play="play"}(N||(N={})),function(e){e.WelcomeBonusPopup="welcome-bonus-popup",e.BalancePopup="balance-popup"}(M||(M={})),function(e){e.CLICK_BUTTON_DISABLE_AD="click-button-disable-ad",e.CLICK_BUTTON_SKIP_AD="click-button-skip-ad",e.ERROR="error",e.EMPTY="empty",e.NOT_SHOW_CONDITION="not-show-condition",e.RENDER_END="renderEnd",e.SHOW_BUTTON_DISABLE_AD="show-button-disable-ad",e.SHOW="show",e.SKIP="skip"}(G||(G={}));var F=n(122);function B(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").endsWith(`${F.U_.YA}.ru`)}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru",n=arguments.length>2?arguments[2]:void 0;return e=e.replace("%TLD%",t),"ru"===t&&B(n)&&(e=e.replace(`${F.U_.YANDEX}.ru`,`${F.U_.YA}.ru`)),e}var H,j;const W=k("src/sdk/utils/env"),K="undefined"!=typeof window&&((null===(H=window.appData)||void 0===H?void 0:H.env)||(null===(j=window.gameTokAppData)||void 0===j?void 0:j.env))||void 0,$=K?K.NODE_ENV:"production",V="production"===$||"stress"===$;W("IS_PROD",V),W("NODE_ENV",$);const Z=(0,m.Z)(g.location),z=(V||parseInt(Z.test_uid,10),V||Z.test_email,V||Z.test_oauth,"true"===Z.yandexapp),X=Z.origin||void 0,q=X||g.location.origin,J=X?X.match(E.SBp):Boolean(g.location.origin.match(E.SBp)),Q=g.location.hostname.endsWith("ya.ru");const ee=J?F.U_.PLAYHOP:Q?F.U_.YA:F.U_.YANDEX,te=(q.match(new RegExp(`[.\\/]${ee}\\.([a-z.]+)$`))||["","ru"])[1],ne=(K?K.SDK_BACKEND_URL:"https://games-sdk.yandex.%TLD%/games/api/sdk/v1")||"",re=(K?K.PLAYHOP_SDK_BACKEND_URL:"https://games-sdk.playhop.%TLD%/games/api/sdk/v1")||"",oe=J?Y(re,te):Y(ne,te,g.location.host);W("BACKEND_SDK_URL",oe);K&&K.OAUTH_CLIENT_ID,K&&K.SDK_PASSPORT_PREFIX;var ae=n(135);var ie,se=n(131),ce=(n(23),n(127)),de=n(126);!function(e){e.GOOGLE_TAG_MANAGER="google_tag_manger"}(ie||(ie={}));const le=k("PixelManager");const ue=new class{constructor(){this.pixelStorage={}}get pixelsToInit(){var e,t,n;if("undefined"==typeof window)return[];let r="https://yastatic.net/s3/games-static/static-data/pixels/google-tag-manager.html";return(0,de.jX)(null!==(n=null===(t=null===(e=window.appData)||void 0===e?void 0:e.abt)||void 0===t?void 0:t.flags)&&void 0!==n?n:{})&&(r="https://statics.games-storage-aws.yandex.net/statics/pixels/google-tag-manager.html"),this.pixelsOrigin=new URL(r).origin,[{frameURL:r,pixelName:ie.GOOGLE_TAG_MANAGER,sendPixelEventFunc:this.sendGoogleTagMangerEvent.bind(this)}]}init(){window.appData.isWorldWide&&this.pixelsToInit.forEach((e=>{const{frameURL:t,pixelName:n,sendPixelEventFunc:r}=e;this.createPixelIframe(t,n,r)}))}sendEvent(e,t){"string"==typeof e?Object.entries(this.pixelStorage).forEach((n=>{let[r,o]=n;o.isError||(o.isLoaded?(o.sendEventFunc(e,t),le(`Send ${r} goal ${e}`)):o.eventsQueued.push({goal:e,params:t}))})):le("Wrong goal",e)}sendGoogleTagMangerEvent(e,t){var n;"string"==typeof e&&(null===(n=this.pixelStorage[ie.GOOGLE_TAG_MANAGER].pixelFrame.contentWindow)||void 0===n||n.postMessage({goal:e,params:t},this.pixelsOrigin))}sendAllEventFromQueue(e){const t=this.pixelStorage[e];t&&!t.isError&&t.isLoaded&&(t.eventsQueued.forEach((e=>t.sendEventFunc(e.goal,e.params))),t.eventsQueued=[])}initPixelIframe(e,t,n){e.src=t,e.style.display="none",e.onload=()=>{this.pixelStorage[n].isLoaded=!0,this.pixelStorage[n].isError=!1,this.sendAllEventFromQueue(n)},e.onerror=()=>{this.pixelStorage[n].isError=!0,this.pixelStorage[n].isLoaded=!1,this.pixelStorage[n].eventsQueued=[]},document.body.appendChild(e)}createPixelIframe(e,t,n){var r,o;const a=document.createElement("iframe"),i=(0,de.ki)((null===(r=window.appData.abt)||void 0===r?void 0:r.flags)||{}),s=(0,de.ZD)((null===(o=window.appData.abt)||void 0===o?void 0:o.flags)||{});this.pixelStorage[t]={eventsQueued:[],isError:!1,isLoaded:!1,pixelFrame:a,sendEventFunc:n},(0,ce.EE)((()=>{setTimeout((()=>{this.initPixelIframe(a,e,t)}),i)}),s)}},pe=ue;var _e=n(128),me=n(130);const he="undefined"!=typeof window;var ge;function fe(e,t,n){e===ge.reachGoal&&(window.dataLayer||(window.dataLayer=[]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.dataLayer.push(arguments)}("event",t,n))}function ve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;var o;"string"==typeof t&&(fe(e,t,n),pe.sendEvent(t,n),r&&(null===(o=window.clickdaemonLog)||void 0===o||o.call(window,t,n)))}function ye(e,t,n){const{withClickDaemon:r}=n;let o={},a={};for(var i=arguments.length,s=new Array(i>3?i-3:0),c=3;c<i;c++)s[c-3]=arguments[c];s[0]&&"object"==typeof s[0]?[o]=s:s[1]&&"object"==typeof s[1]&&([,o]=s,[,a]=s),o.appVersion||(o.appVersion="build1685093933",a.appVersion="build1685093933"),!o.service&&window.clientMetadata.serviceName&&(o.service=window.clientMetadata.serviceName),!o.platform_id&&window.clientMetadata.platform&&(o.platform_id=window.clientMetadata.platform),window.ym?(window.ym(e,t,...s),ve(t,s[0],a,r)):window[`yaCounter${e}`]?(window[`yaCounter${e}`][t](...s),ve(t,s[0],a,r)):Ee("Cannot send metrika")}function Ee(e){var t,n;const r=new Error(e);(0,_e.uh)()?(0,_e.H)({block:me.W.METRIKA,level:null===(n=null===(t=window.Ya)||void 0===t?void 0:t.Rum)||void 0===n?void 0:n.ERROR_LEVEL.WARN},r):console.error(r)}function we(e){return e===F.U_.PLAYHOP?A.playhop:A.yandex}!function(e){e.hit="hit",e.params="params",e.reachGoal="reachGoal"}(ge||(ge={}));const Ae=500,be=(0,se.Z)((function(){Ee("Metrika's callbacks array is overflowed")}));function Oe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];const{shouldMetrikaWork:a=!0}=t;if(he&&a){const{metrika:{counterId:n}}=window.appData||window.gameTokAppData;if(window.ym||window[`yaCounter${n}`])ye(n,e,t,...r);else{Array.isArray(window.yandex_metrika_callbacks2)||(window.yandex_metrika_callbacks2=[]);const o=window.yandex_metrika_callbacks2;o.length<Ae?o.push((()=>{ye(n,e,t,...r)})):be()}}return Promise.resolve()}Oe.bind(null,ge.hit),Oe.bind(null,ge.params),Oe.bind(null,ge.reachGoal);const Se=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,o,a,i;try{const s={borrowParams:{adv:{sdk:{[t]:{[e]:!0,isFirstTryOpen:"tryOpen"===e&&n.isFirstTryOpen,appVersion:window.APP_VERSION}}}}},c=new Image,d=(null===(o=null===(r=window.YandexGamesSDKEnvironment)||void 0===r?void 0:r.i18n)||void 0===o?void 0:o.tld)||"ru",l=we(null===(i=null===(a=window.YandexGamesSDKEnvironment)||void 0===a?void 0:a.data)||void 0===i?void 0:i.secondDomain);c.src=`https://mc.yandex.${d}/watch/${l}?page-url=${encodeURIComponent(window.location.href)}&page-ref=${encodeURIComponent(document.referrer)}&charset=utf-8&site-info=${encodeURIComponent(JSON.stringify(s))}`}catch(e){}};k("AdvStickyBanner");var Pe,Te,ke,Ce,Ie;!function(e){e.BOTTOM="bottom",e.RIGHT="right",e.LEFT="left",e.UPPER="upper"}(Pe||(Pe={})),function(e){e.RIGHT="right"}(Te||(Te={})),function(e){e.DESKTOP="desktop",e.DESKTOP_ADDITIONAL="desktop_additional",e.LANDSCAPE="landscape",e.LANDSCAPE_ADDITIONAL="landscape_additional",e.PORTRAIT="portrait"}(ke||(ke={})),function(e){e.COLUMN="column",e.ROW="row"}(Ce||(Ce={})),function(e){e.ADV_IS_NOT_CONNECTED="ADV_IS_NOT_CONNECTED",e.UNKNOWN="UNKNOWN"}(Ie||(Ie={}));var Re=n(123),Le=n(119);const De="1"===(0,Le.VB)(E.x2l),xe=((0,Le.VB)(E.p4F),(0,Le.VB)(E.x2l));var Ne,Me,Ge,Ue,Fe,Be;!function(e){e.ONBOARDING="onboarding",e.GAME="game",e.ADV="adv",e.ANDROID_NATIVE_PROMO="android_native_promo"}(Ne||(Ne={})),function(e){e.WAITING_PLAYERS="WAITINGPLAYERS",e.WAITING_GAME="WAITINGGAME",e.WAITING_PLAYERS_RESULTS="WAITING_PLAYERS_RESULTS",e.GAME_GOING="GAMEGOING",e.GAME_END="GAMEEND"}(Me||(Me={})),function(e){e.IDLE="IDLE",e.LOADING="LOADING",e.ERROR="ERROR",e.READY="READY"}(Ge||(Ge={})),function(e){e.READY="READY",e.LOSE="LOSE",e.WIN="WIN",e.NOT_READY="NOT_READY",e.PLAYING="PLAYING"}(Ue||(Ue={})),function(e){e.GAME_INFO="GAME_INFO",e.PLAYERS_READY="PLAYERS_READY",e.LEADERBOARD="LEADERBOARD"}(Fe||(Fe={})),function(e){e.DEFAULT="DEFAULT",e.DESKTOP_SHUFFLE="DESKTOP_SHUFFLE",e.SINGLE_GAME="SINGLE_GAME"}(Be||(Be={}));"undefined"!=typeof window&&xe&&((0,Le.VB)(E.dsH),Be.DESKTOP_SHUFFLE);const Ye=k("NoAds"),He="yandex-games-no-ads-style";function je(){Array.isArray(window.adfoxAsyncParams)&&0!==window.adfoxAsyncParams.length&&(window.adfoxAsyncParams=[]),Array.isArray(window.yaContextCb)&&0!==window.yaContextCb.length&&(window.yaContextCb=[]),Array.isArray(window.yandexContextAsyncCallbacks)&&0!==window.yandexContextAsyncCallbacks.length&&(window.yandexContextAsyncCallbacks=[])}let We=!1;function Ke(){We||(We=!0,Ye("_disableAds"),$e(),function(){var e,t,n;const r={destroy(){Ye("Ya.Context.AdvManager.destroy disabled")},render(e,t){"function"==typeof t?t():"function"==typeof e.altCallback?e.altCallback():"function"==typeof e.onError&&e.onError({code:"YA_GAMES_ADS_DISABLED",text:"",type:"error"})}};"function"==typeof(null===(n=null===(t=null===(e=window.Ya)||void 0===e?void 0:e.Context)||void 0===t?void 0:t.AdvManager)||void 0===n?void 0:n.render)&&(window.Ya.Context.AdvManager.render=r.render),je();let o=window.Ya;Object.defineProperty(window,"Ya",{get(){var e;return(null===(e=null==o?void 0:o.Context)||void 0===e?void 0:e.AdvManager)&&o.Context.AdvManager!==r&&(o.Context.AdvManager=r),je(),o},set(e){var t;(null===(t=e.Context)||void 0===t?void 0:t.AdvManager)&&e.Context.AdvManager!==r&&(e.Context.AdvManager=r),o=e},enumerable:!0,configurable:!0}),window.Ya=window.Ya||{},window.Ya.Context=window.Ya.Context||{AdvManager:r},window.Ya.Context.AdvManager=r,Ye("disable Ya.Context.AdvManager.render")}())}function $e(){!function(){var e;if(document.getElementById(He))return;const t=document.createElement("style");t.id=He,t.textContent='\nbody div[id*="yandex_rtb"],\nbody div[id*="adfox"],\nbody iframe#bwiframe,\nbody iframe[src*="yabnrwall.html"],\nbody iframe[src*="yartbbnr.html"],\nbody yatag,\nbody yatag[class]\n{ display: none !important; }',null===(e=document.body)||void 0===e||e.appendChild(t)}()}const Ve=k("AdvManager");class Ze{constructor(e){var t;this.isFirstTryOpenFullscreenAdv=!0,this.isFirstTryOpenRewardedAdv=!0,this.options=e,this.adOpened=!1,this.callbacks=[],this.lastCloseFullscreenTime=0,this.startTime=Date.now(),this.adv=this.options.adv||{},(null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.isWorldWide)?this.setDisabledState(!0):De&&$e(),Object.defineProperty(this,"callbacks",{enumerable:!1}),Object.defineProperty(this.adv,"onAdvClose",{enumerable:!1}),p.Z.onExternalMessage("adv-manager",(e=>{var t,n,r,o,a,i,s,c,d,l,p,_,m,h,g,f;switch(e.data.action){case"adv-callback-open":Se("show","fullscreen"),null===(n=(t=this.callbacks).onOpen)||void 0===n||n.call(t);break;case"adv-callback-close":Se("close","fullscreen"),this.adOpened=!1,this.lastCloseFullscreenTime=Date.now(),this._hideAdv(e.data.data.wasShown);break;case"adv-callback-error":Se("error","fullscreen"),this.adOpened=!1,this._hideAdv(e.data.data.wasShown);try{if("string"!=typeof(null===(o=null===(r=e.data.data)||void 0===r?void 0:r.error)||void 0===o?void 0:o.message)){const t=new Error("Undefined error message");try{t.additional=JSON.stringify(e.data.data)}catch(e){t.additional="undefined"}(0,u.fF)(t)}}catch(e){}null===(i=(a=this.callbacks).onError)||void 0===i||i.call(a,new Error(e.data.data.error.message,{cause:e.data.data.error}));break;case"adv-callback-offline":this.adOpened=!1,this._hideAdv(),null===(c=(s=this.callbacks).onOffline)||void 0===c||c.call(s);break;case"rewarded-video-callback-open":Se("show","rewarded"),null===(l=(d=this.callbacks).onOpen)||void 0===l||l.call(d);break;case"rewarded-video-callback-rewarded":Se("rewarded","rewarded"),null===(_=(p=this.callbacks).onRewarded)||void 0===_||_.call(p);break;case"rewarded-video-callback-close":Se("close","rewarded"),this.adOpened=!1,null===(h=(m=this.callbacks).onClose)||void 0===h||h.call(m);break;case"rewarded-video-callback-error":Se("error","rewarded"),this.adOpened=!1,null===(f=(g=this.callbacks).onError)||void 0===f||f.call(g,new Error(e.data.data.error.message,{cause:e.data.data.error}));break;case"set-disabled-state":Ve('On "set-disabled-state" event',e.data,e.data.data.value),this.setDisabledState(e.data.data.value)}})),this.updateDisabledState()}updateDisabledState(){p.Z.postToParent({type:"adv-manager",action:"get-disabled-state"}).then((e=>{let{data:t}=e;this.setDisabledState(t.value)})).catch(console.warn)}setDisabledState(e){Ve("setDisabledState",e),e?Ke():We&&(We=!1)}openAdLock(e,t){var n,r;let o;return this.adOpened?(o=new Error("Another ad already opened"),o.additional={type:this.adOpenedType},null===(n=e.onError)||void 0===n||n.call(e,o)):t&&Math.abs(Date.now()-this.lastCloseFullscreenTime)<5e3&&(o=new Error("Please, don't try to open advertising often than once per 5000ms"),(0,ae.mv)()&&(null===(r=e.onError)||void 0===r||r.call(e,o))),o?((0,u.fF)(o),this._callOnAdvClose(),!1):(this.adOpened=!0,this.resetAdOpenedInMinute(),!0)}resetAdOpenedInMinute(){window.clearTimeout(this.adOpenedResetTimeout),this.adOpenedResetTimeout=window.setTimeout((()=>{this.adOpened=!1}),Re.yR)}showFullscreenAdv(){let{callbacks:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Se("tryOpen","fullscreen",{isFirstTryOpen:this.isFirstTryOpenFullscreenAdv}),this.isFirstTryOpenFullscreenAdv=!1,this._addCallbacks(e,["onClose","onOpen","onError","onOffline"]),this.openAdLock(e,!0))return this.adOpenedType="fullscreen",p.Z.postToParent({type:"adv-manager",action:"adv-show-fullscreen"}).catch((e=>{var t,n;this.adOpened=!1,(0,u.fF)(e),null===(n=(t=this.callbacks).onError)||void 0===n||n.call(t,e),this._hideAdv()})),this}showRewardedVideo(){let{callbacks:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Se("tryOpen","rewarded",{isFirstTryOpen:this.isFirstTryOpenRewardedAdv}),this.isFirstTryOpenRewardedAdv=!1,this.openAdLock(e,!1))return this._addCallbacks(e,["onOpen","onRewarded","onClose","onError"]),this.adOpenedType="rewarded",p.Z.postToParent({type:"adv-manager",action:"adv-show-rewarded-video"}).catch((e=>{var t,n;this.adOpened=!1,(0,u.fF)(e),null===(n=(t=this.callbacks).onError)||void 0===n||n.call(t,e)})),this}showBannerAdv(){return new Promise((e=>{var t;(null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.isStickyBannerEnabled)?p.Z.postToParent({type:"adv-manager",action:"adv-show-sticky-banner"}).then((t=>{let{data:n}=t;e(n)})).catch((t=>{(0,u.fF)(t),e({stickyAdvIsShowing:!1,reason:Ie.UNKNOWN})})):e({stickyAdvIsShowing:!1,reason:Ie.ADV_IS_NOT_CONNECTED})}))}hideBannerAdv(){return new Promise((e=>{p.Z.postToParent({type:"adv-manager",action:"adv-hide-sticky-banner"}).then((t=>{let{data:n}=t;e(n)})).catch((t=>{e({stickyAdvIsShowing:!1}),(0,u.fF)(t)}))}))}getBannerAdvStatus(){return new Promise((e=>{var t;(null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.isStickyBannerEnabled)?p.Z.postToParent({type:"adv-manager",action:"adv-status-sticky-banner"}).then((t=>{let{data:n}=t;e(n)})).catch((t=>{(0,u.fF)(t),e({stickyAdvIsShowing:!1,reason:Ie.UNKNOWN})})):e({stickyAdvIsShowing:!1,reason:Ie.ADV_IS_NOT_CONNECTED})}))}_hideAdv(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._callOnAdvClose(e)}_addCallbacks(e,t){t.forEach((t=>{this.callbacks[t]="function"==typeof e[t]?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return function(){try{return e(...arguments)}catch(e){(0,u.fF)(e,{prefix:t}),n&&n(e)}}}(e[t],`Error in callback ${t}: `):()=>{}}))}_callOnAdvClose(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n;if("function"==typeof this.adv.onAdvClose)try{this.adv.onAdvClose(e)}catch(e){(0,u.Ts)(e)}null===(n=(t=this.callbacks).onClose)||void 0===n||n.call(t,e)}}const ze=k("AuthManagerPrivate");const Xe=new class{constructor(){this.onExternalAuthMessage=e=>{const{action:t,data:n}=e.data;"changed"===t&&this.switchAuthState(n.hasAuth)},this.initMessaging(),this.getAuthState()}initMessaging(){p.Z.onExternalMessage("auth",this.onExternalAuthMessage)}switchAuthState(e){this.hasAuthValue!==e&&(ze(`switch auth state to ${e}`),this.hasAuthValue=e)}getAuthState(){p.Z.postToParent({type:"auth",action:"has-auth"}).then((e=>{let{data:{hasAuth:t}}=e;this.switchAuthState(t)}))}hasAuth(){return void 0===this.hasAuthValue&&((0,u.fF)(new Error("AuthManagerPrivate.hasAuth() called when state is not defined")),this.hasAuthValue=!0),this.hasAuthValue}};const qe=new class{openAuthDialog(){return p.Z.postToParent({type:"auth",action:"auth-dialog-open",data:{initializer:"auth-manager-public"}})}};var Je=n(132);let Qe;Qe=n(112).Z;const et=Qe;E.xYt.L,E.xYt.CATEGORIZED_NEW_L,E.xYt.RECOMMENDED_NEW,E.xYt.ADAPTIVE_RECOMMENDED_NEW,E.xYt.PROFILE_RECENT_GAMES,E.xYt.PREMIUM_BIG,E.xYt.TV,E.xYt.SINGLE;var tt;!function(e){e.PORTRAIT="272x484",e.LANDSCAPE="564x318_1"}(tt||(tt={}));var nt;!function(e){e.BIG="big",e.NORMAL="normal",e.ISLANDS_200="islands-200",e.ISLANDS_MIDDLE="islands-middle",e.ISLANDS_75="islands-75",e.ISLANDS_RETINA_SMALL="islands-retina-small",e.ISLANDS_RETINA_MEDIUM="islands-retina-medium"}(nt||(nt={}));const rt="0/0-0";var ot=n(124),at=n(57);function it(e,t,n){var r,o;if(!e)return;let a=function(e,t,n){let r;try{let t=new URL(e);r=at.parse((n?t.hash:t.search).slice(1))}catch(e){return}if(void 0===r)return;let o=null==r?void 0:r[t];return o?Array.isArray(o)?o[0]:o:void 0}(e,"sdk_url",t);if(void 0===a)return;const i=void 0!==n?n.SDK_CUSTOM_DOMAINS:process.env.SDK_CUSTOM_DOMAINS;if(!i)return;let s;try{s=JSON.parse(i)}catch(e){return}if(void 0===s)return;return null!==(o=null===(r=null==s?void 0:s[a])||void 0===r?void 0:r.apiDomain)&&void 0!==o?o:void 0}function st(e){var t;let n=new URL(e);if(null===(t=null===window||void 0===window?void 0:window.appData)||void 0===t?void 0:t.env){let e=it(window.location.href,!0,window.appData.env);if(e)return n.hostname=e,n.href}return e}const ct={small:nt.ISLANDS_RETINA_SMALL,medium:nt.ISLANDS_RETINA_MEDIUM,large:nt.ISLANDS_200},dt={small:nt.ISLANDS_200,medium:nt.ISLANDS_200,large:nt.BIG},lt=`${oe}/player`;class ut{constructor(e){this._personalInfo=e}getID(){return(0,u.Ts)(new Error("Player.getID() is deprecated. Please, use Player.getUniqueID().\nhttps://yandex.ru/dev/games/doc/dg/sdk/sdk-player.html#sdk-player__profile-data")),et.sendOnceDeprecatedUsage("Player.getID"),this._personalInfo.id}getUniqueID(){return this._personalInfo.uniqueID}getName(){return this._personalInfo.publicName}getMode(){var e;return(0,ot.Km)()?"":null!==(e=this._personalInfo.mode)&&void 0!==e?e:""}getPhoto(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";const t=ct[e];if(!t)throw new Error(`Unknown size value ('${e}')`);return this._personalInfo.avatarIdHash?`${st(lt)}/avatar/${this._personalInfo.avatarIdHash}/${t}`:`https://avatars.mds.yandex.net/get-yapic/${rt}/${t}`}hasPremium(){var e;return null!==(e=this._personalInfo.hasPremium)&&void 0!==e&&e}}function pt(e,t){let n,r;return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];const s=a,c=this;return n||(n=!0,setTimeout((()=>n=!1),t),r=e.apply(c,s)),r}}var _t=n(136);function mt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(n).forEach((e=>{void 0===n[e]&&delete n[e]}));const r=(0,_t.Z)({url:`${e}${t}`,params:n});return(0,ae.$g)(r)}function ht(e){const{api:t,authRequired:n,path:r,params:o,timeout:a}=e;return new Promise(((e,i)=>{const s=mt(t,r,o);if(!s)return void i(new Error("Can not create URL"));p.Z.postToParent({type:"fetch",data:{authRequired:n,options:{credentials:"include",referrerPolicy:"no-referrer-when-downgrade"},timeout:a,url:s}}).then((t=>{let{data:{result:n}}=t;e(n)})).catch(i)}))}function gt(e){const{api:t,authRequired:n,data:r,params:o,path:a,timeout:i}=e;return new Promise(((e,s)=>{const c=mt(t,a,o);if(!c)return void s(new Error("Can not create URL"));const d={body:JSON.stringify(r),credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",referrerPolicy:"no-referrer-when-downgrade"};p.Z.postToParent({type:"fetch",data:{authRequired:n,options:d,timeout:i,url:c}}).then((t=>{let{data:{result:n}}=t;e(n)})).catch(s)}))}const ft=`${oe}/leaderboard`,vt=10*Re.WT,yt=()=>vt*U(),Et=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return ht({api:st(ft),timeout:yt(),path:e,params:t,authRequired:Boolean(null==n?void 0:n.authRequired)})},wt=Re.WT,At=pt((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return gt({api:st(ft),timeout:yt(),authRequired:!0,path:e,data:t,params:n})}),wt);class bt{constructor(){this._appId=(0,ae.rh)()}getLeaderboardDescription(e){return Et("/descr",{"app-id":this._appId,name:e})}getLeaderboardStat(e){return Et("/stat",{"app-id":this._appId,name:e})}transformLeaderboardEntry(e){const{avatarIdHash:t,lang:n,publicName:r,scopePermissions:o,uniqueID:a}=e.player,i=`${lt}/avatar/${t}`;return Object.assign(Object.assign({},e),{player:{getAvatarSrc:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return ct[e]||(e="medium"),`${i}/${ct[e]}`},getAvatarSrcSet:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium";return ct[e]||(e="medium"),`${i}/${ct[e]} 1x, ${i}/${dt[e]} 2x`},lang:n,publicName:r,scopePermissions:o,uniqueID:a}})}transformLeaderboardEntries(e){return e.map(this.transformLeaderboardEntry)}getLeaderboardEntries(e,t){const{includeUser:n=!1,quantityAround:r=5,quantityTop:o=5}=t||{};return Et((0,ae.H8)("/entries"),{"app-id":this._appId,include_user:n,name:e,quantity_around:r,quantity_top:o},{authRequired:n}).then((e=>{const{entries:t,leaderboard:n,ranges:r,userRank:o}=e;return{entries:this.transformLeaderboardEntries(t),leaderboard:n,ranges:r,userRank:o}}))}getLeaderboardPlayerEntry(e){if((0,ot.Km)())throw new Je.Z({code:"LEADERBOARD_PLAYER_NOT_PRESENT",httpStatus:204,message:"Player is not present in leaderboard"});return Et((0,ae.H8)("/player-entry"),{"app-id":this._appId,name:e},{authRequired:!0}).then((e=>{if(!e)throw new Je.Z({code:"LEADERBOARD_PLAYER_NOT_PRESENT",httpStatus:204,message:"Player is not present in leaderboard"});return this.transformLeaderboardEntry(e)}))}setLeaderboardScore(e,t,n){if((0,ot.Km)())return p.Z.postToParent({type:"gametok-manager",action:"new-igroyal-score",data:{score:t}}),new Promise((e=>e(!0)));const r={"app-id":this._appId,name:e,score:t};return(0,ot.zd)()&&(r.fromViber=!0),this.lastTimeLeaderboardWasSend&&!this.canSetLeaderboardScoreByTime()?Promise.reject("The request to setLeaderboardScore can be sent no more than once per second"):(n&&(r.extraData=n),this.lastTimeLeaderboardWasSend=Date.now(),At("/score",r))}canSetLeaderboardScoreByTime(){return Date.now()-this.lastTimeLeaderboardWasSend>wt}}const Ot=()=>{const e=new bt;return Promise.resolve(e)};var St=n(133);var Pt,Tt,kt,Ct,It;!function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"}(Pt||(Pt={})),function(e){e.click="click",e.show="show",e.rating="rating",e.comment="comment",e.playPageFeedbackClose="play_page_feedback_close",e.playPageFeedbackShow="play_page_feedback_show",e.openingGamePage="opening_game_page",e.clickGamePage="click_game_page",e.openGamePage="open_game_page",e.closeGamePage="close_game_page",e.clickFilm="clickFilm",e.showFilm="showFilm"}(Tt||(Tt={})),function(e){e.ADD_RECENT_GAME="add_recent_game_time",e.DELETE_RECENT_GAME="delete_recent_game_time",e.GET_GAMES_WITH_PROMO="get_games_with_promo_time",e.GET_TAGS="get_tags_time",e.LOAD_CATALOG_DATA="load_catalog_data_time",e.LOAD_SEARCH_DATA="load_search_data_time",e.SET_RATING="set_rating_time"}(kt||(kt={})),function(e){e.IS_TURBO_APP="is_turbo_app",e.NO_CATALOG_SESSION_ID="no_catalog_session_id",e.CHECK_SUM_CHANGED="check_sum_changed",e.TAB_CHANGED="tab_changed",e.TAG_ID_CHANGED="tag_id_changed",e.ADD_FIRST_GAME="add_first_game"}(Ct||(Ct={})),function(e){e.LOAD_GAME_DATA="load_game_data_{format}_time"}(It||(It={}));var Rt;!function(e){e.NEW="new",e.PROMO_DIRECT="promo_direct",e.PROMO_EVENT="promo_event"}(Rt||(Rt={}));const Lt="companyName",Dt="serviceName",xt={[F.U_.PLAYHOP]:{[Lt]:{ru:"Playhop",en:"Playhop"},[Dt]:{ru:"Playhop",en:"Playhop"}},[F.U_.YANDEX]:{[Lt]:{ru:"Яндекс",en:"Yandex"},[Dt]:{ru:"Игры",en:"Games"}}};xt[F.U_.YA]=xt[F.U_.YANDEX];var Nt,Mt;!function(e){e.desktop_morda="desktop_morda",e.sa_morda="sa_morda",e.touch_morda="touch_morda",e.arrow="arrow",e.caption="caption",e.feedback="feedback",e.gamePage="gamePage",e.gamePageBody="gamePageBody",e.gamePageFeedback="gamePageFeedback",e.gamePageFloater="gamePageFloater",e.gamePageLeaderboard="gamePageLeaderboard",e.picture="picture",e.playButton="playButton",e.organic="organic"}(Nt||(Nt={})),function(e){e.apply="apply",e.backButton="backButton",e.blocked="blocked",e.cross="cross",e.escape="escape",e.paranja="paranja",e.scroll="scroll"}(Mt||(Mt={}));var Gt;!function(e){e.RU="ru",e.EN="en",e.BE="be",e.UK="uk",e.KK="kk",e.UZ="uz",e.TR="tr"}(Gt||(Gt={}));const Ut=Gt.RU;function Ft(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e){if("string"==typeof e)return e;if(t in e)return e[t]||n;if(!(0,F.KS)(t)&&"en"in e)return e.en||n;if(Ut in e)return e[Ut]||n}return n}var Bt;!function(e){e.MEDIUM="medium",e.SMALL="small",e.SVG="svg"}(Bt||(Bt={}));const Yt="//yastatic.net/s3/games-static/static-data/images/payments/sdk";let Ht=function(){Ht=()=>{},et.params({borrowParams:{payments:{appId:(0,ae.rh)(),productCurrencyCodeGet:!0}}})};class jt{constructor(e){this._productData=e}get id(){return this._productData.id}get title(){return Ft(this._productData.title)}get description(){return Ft(this._productData.description)}get imageURI(){const{image:e}=this._productData;return e&&"object"==typeof e&&"url_prefix"in e?/\.(png|jpg|svg)$/.test(String(e.url_prefix))?e.url_prefix:`${e.url_prefix}/default256x256`:"https://yastatic.net/s3/games-static/static-data/images/payments/default-product-image.png"}get price(){const{price:e}=this._productData;return`${e} ${this.priceCurrencyCode}`}get priceValue(){return String(this._productData.price)}get priceCurrencyCode(){var e;return Ht(),null===(e=window.YandexGamesSDKEnvironment)||void 0===e?void 0:e.moneyCodeSymbol}getPriceCurrencyImage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt.SMALL;if(e===Bt.SVG)return`${Yt}/currency-icon-m.svg`;let t="s";switch(e){case Bt.MEDIUM:case Bt.SMALL:t=e.charAt(0);break;default:console.warn(`Unknown size value ('${e}')`)}const n=window.devicePixelRatio>=2;return`${Yt}/currency-icon-${t}${n?"@2x":""}.png`}toJSON(){return{id:this.id,title:this.title,description:this.description,imageURI:this.imageURI,price:this.price,priceValue:this.priceValue,priceCurrencyCode:this.priceCurrencyCode}}}class Wt{constructor(e){"purchaseTime"in e||(e.purchaseTime=0),this.purchaseData=e}get productID(){return this.purchaseData.productID}get purchaseTime(){return this.purchaseData.purchaseTime}get purchaseToken(){return this.purchaseData.purchaseToken}get developerPayload(){return this.purchaseData.developerPayload}toJSON(){return{productID:this.productID,purchaseTime:this.purchaseTime,purchaseToken:this.purchaseToken,developerPayload:this.developerPayload}}}n(113),n(114),n(115),n(116),n(117),n(118);function Kt(e){return function(e){for(var t,n="",r=e.length,o=0;o<r;o++)t=e[o],n+=String.fromCharCode(t>251&&t<254&&o+5<r?1073741824*(t-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>247&&t<252&&o+4<r?(t-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>239&&t<248&&o+3<r?(t-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:t>223&&t<240&&o+2<r?(t-224<<12)+(e[++o]-128<<6)+e[++o]-128:t>191&&t<224&&o+1<r?(t-192<<6)+e[++o]-128:t);return n}(function(e,t){for(var n,r,o,a=e.replace(/[^A-Za-z0-9\+\/]/g,""),i=a.length,s=t?Math.ceil((3*i+1>>>2)/t)*t:3*i+1>>>2,c=new Uint8Array(s),d=0,l=0,u=0;u<i;u++)if(r=3&u,d|=((o=a.charCodeAt(u))>64&&o<91?o-65:o>96&&o<123?o-71:o>47&&o<58?o+4:43===o?62:47===o?63:0)<<18-6*r,3===r||i-u==1){for(n=0;n<3&&l<s;n++,l++)c[l]=d>>>(16>>>n&24)&255;d=0}return c}(e))}function $t(e,t){t&&Object.defineProperty(e,"signature",{enumerable:!1,configurable:!1,get:()=>t})}const Vt=k("Payment");class Zt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._config=e,this.___test1212()}getCatalog(){return new Promise(((e,t)=>{p.Z.postToParent({type:"payments",action:"get-catalog",data:{lang:this._config.lang}}).then((t=>{let{data:n}=t;Vt("get-catalog result",n),e(n.products.map((e=>new jt(e))))})).catch((e=>{t(e)}))}))}purchase(e){"object"!=typeof e&&(e={id:e,developerPayload:""});const{developerPayload:t}=e;if(t){if("string"!=typeof t)return Promise.reject(new Error("developerPayload must be a string"))}else e.developerPayload="";return new Promise(((t,n)=>{p.Z.postToParent({type:"payments",action:"purchase-start",data:{paymentsConfig:this._config,purchaseConfig:e}}).then((e=>{let{data:{data:n,signature:r}}=e;Vt("purchase-start then");const o=new Wt({productID:n.product.id,purchaseToken:n.token,developerPayload:n.developerPayload});$t(o,r),t(o)})).catch((e=>{Vt("purchase-start catch"),n(e)}))}))}getPurchases(){return new Promise(((e,t)=>{p.Z.postToParent({type:"payments",action:"get-purchases",data:{paymentsConfig:this._config}}).then((t=>{let{data:{data:n,signature:r}}=t;Vt("getPurchases callback",n);const o=n.map((e=>new Wt({productID:e.product.id,purchaseToken:e.token,developerPayload:e.developerPayload})));$t(o,r),e(o)})).catch((e=>{t(e)}))}))}consumePurchase(e){return new Promise(((t,n)=>{p.Z.postToParent({type:"payments",action:"purchase-consume",data:{token:e}}).then((e=>{let{data:n}=e;if(console.info("consumePurchase data"),console.info(n),!n||!n.token)throw new St.Z({code:"CANNOT_CONSUME_PURCHASE",message:"Can not consume purchase."});t(!0)})).catch((e=>{n(e)}))}))}___test1212(){var e,t,n;if("96458"!==(null===(e=window.YandexGamesSDKEnvironment)||void 0===e?void 0:e.app.id))return;if(!0!==(null===(n=null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.request.experiments)||void 0===n?void 0:n.test1212Payments))return;const r="position: fixed; left: 15px; padding: 0.3em; background: #fff; border: 1px solid #000; border-radius: 5px;";let o=document.createElement("div");o.setAttribute("id","payElement1212-noads"),o.setAttribute("style",`${r} top: 5px;`),o.textContent='purchase("noads")',o.onclick=()=>this.___test1212Purchase("noads"),document.body.appendChild(o),o=document.createElement("div"),o.setAttribute("id","payElement1212-3x3antiblock"),o.setAttribute("style",`${r} top: 40px;`),o.textContent='purchase("3x3antiblock")',o.onclick=()=>this.___test1212Purchase("3x3antiblock"),document.body.appendChild(o)}___test1212Purchase(e){function t(t){const n=document.getElementById(`payElement1212-${e}`);n&&(n.style.backgroundColor=t?"#0f0":"#f00")}this.purchase({id:e,developerPayload:""}).then((()=>t(!0))).catch((e=>{t(!1),(0,u.fF)(e)}))}}const zt=function(){const e=new Zt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return new Promise(((t,n)=>{e.getCatalog().then((()=>t(e))).catch(n)}))},Xt=`${oe}/player`,qt=5*Re.WT,Jt=()=>qt*U(),Qt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return gt({api:st(Xt),timeout:Jt(),path:e,data:t,params:n})},en=204800;function tn(e){try{return JSON.stringify(e)}catch(e){return(0,u.fF)(e),`${Date.now()}.${Math.random()}`}}class nn{constructor(e){this._playerId=e,this._dataHash=null,this._timestamp=0}isSamePlayer(e){return e===this._playerId}set dataHash(e){this._dataHash=e?tn(e):null}validate(e){const t=tn(e);return function(e){try{return(new TextEncoder).encode(e).length}catch(t){return function(e){let t=e.length;for(let n=e.length-1;n>=0;n--){let r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}(e)}}(t)>en?{error:new Error("The data is too large (bigger then 204800 bytes)."),reject:!0}:this._dataHash===t?{error:new Error("The data does not differ from the previous ones."),reject:!1}:{}}getWaitTime(){let e=200;const t=Math.abs(Date.now()-this._timestamp);return t<3e3&&(e=Math.max(200,3e3-t)),e}set timestamp(e){this._timestamp=e}}const rn=k("Player"),on=200;function an(e){const{data:t,signature:n}=function(e){if("signature"in e){const{signature:t}=e;if("string"==typeof t){const{data:e}=JSON.parse(Kt(t.split(".")[1]));return{data:e,signature:t}}(0,u.fF)(new Error("response.signature is not a string"))}return{data:e}}(e);return $t(t,n),t}function sn(e,t){if(void 0===t)return e;if(!Array.isArray(t))throw new Error("`keys` must be an Array");if(-1!==t.indexOf("signature"))throw new Error('`keys` must not contains "signature" key');const n={};return t.forEach((t=>{t in e&&(n[t]=e[t])})),n}function cn(e){return!(!e||"object"!=typeof e)&&Object.values(e).every((e=>"number"==typeof e&&!isNaN(e)))}let dn,ln,un,pn;p.Z.onExternalMessage("auth",(e=>{if("changed"===e.data.action&&un){rn("Call onLogoutCallback()");try{un()}catch(e){console.error()}un=void 0}}));class _n extends ut{constructor(e,t){super(e),this.config=t,ln&&ln.isSamePlayer(this.getUniqueID())||(ln=new nn(this.getUniqueID()))}onLogout(e){rn("Set onLogout callback"),un=e}getIDsPerGame(){return this._fetchData("-ids-per-game")}getData(e){return(0,ot.Km)()?Promise.resolve({}):(void 0!==this.data?this.dataPromise=Promise.resolve(this.data):void 0===this.dataPromise&&(this.dataPromise=new Promise(((e,t)=>{this._fetchData("/data").then((t=>{this.data=t,e(t)})).catch((e=>{this.dataPromise=void 0,t(e)}))}))),this.dataPromise.then((t=>sn(t,e))))}setData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,ot.Km)())return new Promise((e=>e(!0)));if(!function(e){return!(!e||"object"!=typeof e)}(e))return Promise.reject(new Error("Data is not valid"));this.data=e;const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ln.validate(e);return n.error?n.reject?Promise.reject(n.error):((0,u.Ts)(n.error),Promise.resolve(!0)):new Promise(((n,r)=>{dn&&window.clearTimeout(dn);let o=t?on:Math.max(on,ln.getWaitTime());ln.timestamp=Date.now(),dn=window.setTimeout((()=>{Qt("/data",e).then((()=>{ln.dataHash=e,n(!0)})).catch((e=>{ln.timestamp=0,ln.dataHash=null,r(e)}))}),o)}))}(e,t);return t?n:Promise.resolve(!0)}getStats(e){return(0,ot.Km)()?new Promise((e=>e({}))):(void 0===this.statsPromise&&(this.statsPromise=new Promise(((e,t)=>{this._fetchData("/stats").then(e).catch(t).finally((()=>this.statsPromise=void 0))}))),this.statsPromise.then((t=>sn(t,e))))}setStats(e){return(0,ot.Km)()?new Promise((e=>e(!0))):cn(e)?Qt("/stats",e):Promise.reject(new Error("Stats is not valid"))}incrementStats(e){return(0,ot.Km)()?new Promise((e=>e(!0))):cn(e)?this._postData("/stats/increment",e):Promise.reject(new Error("Increments is not valid"))}_fetchData(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ht({api:st(Xt),timeout:Jt(),path:e,params:t})}((0,ae.H8)(`${e}${this.config.signed?"-signed":""}`)).then(an)}_postData(e,t){return Qt(`${e}${this.config.signed?"-signed":""}`,t).then(an)}}try{pn=window.localStorage}catch(e){}const mn=pn||function(){let e={};return{clear(){e={}},getItem:t=>e[t],key:t=>Object.keys(e)[t],removeItem(t){delete e[t]},setItem(t,n){e[t]=String(n)},get length(){return Object.keys(e).length}}}(),hn=/iPad|iPhone|iPod/.test(navigator.platform),gn=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),fn=hn||gn,vn=/app-[^.]+\.games\.s3\.yandex\.net$/.test(window.location.hostname),yn=!vn&&fn,En=(0,se.Z)((()=>{(0,u.fF)(new Error("localStorage is broken on iOS/MacOS - https://developer.apple.com/forums/thread/109909\nPlease use YaGames.init().then(ysdk => ysdk.getStorage()).then(storage => storage.setItem('key', 'value'))"))}));class wn{static setup(){yn&&Object.defineProperty(window,"localStorage",{get:function(){return En(),mn}}),fn&&vn&&wn.setProxy()&&wn.backup()}static load(){if(wn.onloadPromise_)return wn.onloadPromise_;const e=wn.getCustomLocalStorage();return e?(wn.onloadPromise_=new Promise((t=>{window.addEventListener("message",(n=>{let{data:{type:r,action:o,data:a}}=n;if("local-storage"===r&&"get-all"===o){for(let t in a)e.setItem(t,String(a[t]));t(e)}})),window.parent.postMessage({type:"local-storage",action:"get-all",source:"YandexGamesSDK"},"*")})),wn.onloadPromise_):Promise.resolve(mn)}static getCustomLocalStorage(){if("function"!=typeof Proxy)return null;return new Proxy({clear(){mn.clear.call(mn),p.Z.postToParent({type:"local-storage",action:"clear"})},getItem:e=>mn.getItem.call(mn,e),key:e=>mn.key.call(mn,e),get length(){return mn.length},removeItem(e){mn.removeItem.call(mn,e),p.Z.postToParent({type:"local-storage",action:"del",data:{key:e}})},setItem(e,t){mn.setItem.call(mn,e,String(t)),p.Z.postToParent({type:"local-storage",action:"set",data:{key:e,value:t}})}},{get:function(e,t){return t in e?e[t]:e.getItem(String(t))},set:function(e,t,n){return e.setItem(String(t),n),!0}})}static setProxy(){const e=wn.getCustomLocalStorage();return!!e&&(Object.defineProperty(window,"localStorage",{get:function(){return e}}),!0)}static backup(){const e=Object.create(null);for(let t=0;t<mn.length;t++){const n=mn.key(t);n&&(e[n]=mn.getItem(n))}p.Z.postToParent({type:"local-storage",action:"backup",data:e})}}function An(){return!fn&&pn?Promise.resolve(pn):wn.load()}function bn(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)}wn.onloadPromise_=null;const On=new class{writeText(e){try{e=String(e)}catch(e){return Promise.reject(new Error("Error while stringified provided value"))}return new Promise(((t,n)=>{p.Z.postToParent({type:"clipboard",action:"write-text",data:{text:e}}).then((()=>t(void 0))).catch(n)}))}},Sn={android:()=>!Sn.windows()&&Cn("android"),androidPhone:()=>Sn.android()&&Cn("mobile"),androidTablet:()=>Sn.android()&&!Cn("mobile"),blackberry:()=>Cn("blackberry")||Cn("bb10")||Cn("rim"),blackberryPhone:()=>Sn.blackberry()&&!Cn("tablet"),blackberryTablet:()=>Sn.blackberry()&&Cn("tablet"),cordova:()=>Boolean(window.cordova&&"file:"===window.location.protocol),desktop:()=>!Sn.tablet()&&!Sn.mobile(),fxos:()=>(Cn("(mobile")||Cn("(tablet"))&&Cn(" rv:"),fxosPhone:()=>Sn.fxos()&&Cn("mobile"),fxosTablet:()=>Sn.fxos()&&Cn("tablet"),ios:()=>Sn.iphone()||Sn.ipod()||Sn.ipad(),ipad:()=>Cn("ipad"),iphone:()=>!Sn.windows()&&Cn("iphone"),ipod:()=>Cn("ipod"),landscape:function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?kn(screen.orientation.type,"landscape"):window.innerHeight/window.innerWidth<1},macos:()=>Cn("mac"),meego:()=>Cn("meego"),mobile:function(){return Sn.androidPhone()||Sn.iphone()||Sn.ipod()||Sn.windowsPhone()||Sn.blackberryPhone()||Sn.fxosPhone()||Sn.meego()},nodeWebkit:()=>"object"==typeof window.process,get os(){return In(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"])},portrait:function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?kn(screen.orientation.type,"portrait"):window.innerHeight/window.innerWidth>1},tablet:function(){return Sn.ipad()||Sn.androidTablet()||Sn.blackberryTablet()||Sn.windowsTablet()||Sn.fxosTablet()},tv:()=>Tn.some((e=>Cn(e))),get type(){return In(["tv","mobile","tablet","desktop"])},windows:()=>Cn("windows"),windowsPhone:()=>Sn.windows()&&Cn("phone"),windowsTablet:()=>Sn.windows()&&Cn("touch")&&!Sn.windowsPhone()},Pn="undefined"==typeof window?"":window.navigator.userAgent.toLowerCase(),Tn=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html","yandexmodule","androidtv"];function kn(e,t){return-1!==e.indexOf(t)}function Cn(e){return kn(Pn,e)}function In(e){for(let t=0;t<e.length;t+=1)if(Sn[e[t]]())return e[t];return"unknown"}const Rn=Sn,Ln={isMobile:()=>Rn.mobile(),isTablet:()=>Rn.tablet(),isDesktop:()=>Rn.desktop(),isTV:()=>Rn.tv(),type:Rn.type},Dn={APP_VERSION:"",app:{id:""},browser:{lang:"ru"},clid:void 0,i18n:{lang:"ru",tld:"ru"},isStickyBannerEnabled:!1,isWorldWide:!1,isYandexApp:!1,moneyCodeSymbol:E.NAu.HOP,params:{},request:{},serviceName:E.Go0.YANDEX};let xn=()=>(window.YandexGamesSDKEnvironment||(0,u.fF)(new Error("SDK environment: `window.YandexGamesSDKEnvironment` is undefined")),xn=()=>window.YandexGamesSDKEnvironment||Dn,xn());const Nn={get app(){return xn().app},get browser(){return xn().browser},get data(){return xn().data||{}},get i18n(){return xn().i18n},get payload(){return xn().params.payload}};const Mn=(()=>{var e;const t=null===(e=window.YandexGamesSDK)||void 0===e?void 0:e.game.info;if(!t)return;const n=parseInt(t.appId,10);return n?{appId:n,developerId:t.publisher.id}:void 0})();const Gn=[{regexp:new RegExp("User .+ already exists in users list!"),title:"User already exists in users list!"},{regexp:new RegExp("\\(Filename:.+Line: -?[0-9]+\\)"),title:"Unity"},{substr:"UnityEngine",title:"Unity"},{substr:"Dimensions must match",title:"Unity"},{substr:"Loading FSB failed for audio clip",title:"Unity"},{substr:"UnityLoader",title:"Unity"},{substr:"GLSL",title:"GLSL"},{substr:"ValerypopoffJS plugin",title:"ValerypopoffJS plugin"},{substr:"https://github.com/cocos-creator/engine",title:"cocos-creator"},{substr:"Wicket.Ajax",title:"Wicket.Ajax"},{substr:'Error loading sound "%s"',title:'"loading sound"'},{substr:"Error loading image",title:'"loading image"'},{substr:"Error loading Texture",title:'"loading Texture"'},{substr:"Error loading asset",title:'"loading asset"'},{substr:"Error loading audio url",title:'"loading audio url"'},{substr:"Error loading animation resource",title:'"loading animation resource"'},{substr:"Failed to load resource:",title:'"loading resource"'},{substr:"Could not load",title:'"loading"'},{substr:"Failed to load",title:'"loading"'},{regexp:new RegExp("[Cc]ould not allocate memory"),title:"working with memory"},{substr:"Out of executable memory in function at index",title:"working with memory"},{substr:"memory access out of bounds",title:"working with memory"},{substr:"pre-main prep time: ",title:'"pre-main prep time"'},{substr:"FAILED DIGGING: ",title:'"DIGGING"'},{substr:"sth wrong with connection!",title:'"sth wrong with connection!"'},{substr:"Object2D is not available",title:'"Object2D is not available"'},{regexp:new RegExp("^Client : Error finish action.*?respawn$"),title:'"finish action respawn"'},{substr:"[TokenStorageYandex]",title:"TokenStorageYandex"},{substr:"TOO_SMALL_CONTAINER",title:"TOO_SMALL_CONTAINER"},{substr:"window.cb",title:"window.cb"}],Un=e=>{const t=(e=>e.map((e=>{if("object"==typeof e)try{return JSON.stringify(e)}catch(t){return`${e}: ${t.message}`}return String(e)})).join(" "))(e),n=(e=>{for(const t of Gn)if(t.regexp&&-1!==e.search(t.regexp)||t.substr&&e.includes(t.substr))return{message:`[grouped] Error related to ${t.title}`,additional:{message:e}};return{message:e}})(t),r=new Error(n.message);return n.additional&&(r.additional=n.additional),r};function Fn(e,t){t&&(e.type=t),p.Z.postToParent({data:e,type:"error"}).catch((e=>{console.warn(e)}))}function Bn(e){return{data:{additional:{sdkVersion:2}},error:e,source:"game",sourceMethod:(0,u.Zi)(e.stack)}}const Yn=new class{constructor(e){this.source=e,window.addEventListener("error",this),"Promise"in window&&window.addEventListener("unhandledrejection",this)}addLogger(e){this.logger=e}handleEvent(e){this._handleEvent(e)}_handleEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";try{this._unsafeHandleEvent(e,t)}catch(e){console.warn("Couldn't handle event in ErrorCounter!",e)}}_unsafeHandleEvent(e,t){return"unhandledrejection"===e.type?this._unsafeHandlePromiseRejectionEvent(e):this._unsafeHandleErrorEvent(e,t)}_unsafeHandlePromiseRejectionEvent(e){var t;const{reason:n}=e;if(!n)return;let r;const o={};n.stack&&n.message?r=n.message:(r=String(n),"[object Event]"===r?r="event.type: "+n.type:"[object Object]"===r&&(o.unhandledObject=n)),(null===(t=n.target)||void 0===t?void 0:t.src)&&(o.src=n.target.src),this._postError({additional:o,message:"Unhandled rejection: "+r,name:"UnhandledPromiseError",stack:n.stack||""},"unhandled")}_unsafeHandleErrorEvent(e,t){var n,r,o,a,i;const{error:s}=e,c={columnNumber:null!==(r=null!==(n=e.colno)&&void 0!==n?n:null==s?void 0:s.columnNumber)&&void 0!==r?r:-1,fileName:e.filename||(null==s?void 0:s.fileName)||"",lineNumber:null!==(a=null!==(o=e.lineno)&&void 0!==o?o:null==s?void 0:s.lineNumber)&&void 0!==a?a:-1,message:e.message||(null==s?void 0:s.message)||"",name:(null==s?void 0:s.name)||"Error",stack:null!==(i=null==s?void 0:s.stack)&&void 0!==i?i:""};(Mn||(null==s?void 0:s.additional))&&(c.additional=Object.assign(Object.assign({},null==s?void 0:s.additional),Mn)),this._postError(c,t)}_postError(e,t){var n;let r=(0,u.Zi)(e.stack);"ErrorListener.handleEvent"===r&&(r="unknown"),null===(n=this.logger)||void 0===n||n.call(this,{data:{additional:e.additional||{}},error:e,source:this.source,sourceMethod:r},t)}}("game");var Hn,jn;Yn.addLogger(Fn),function(){try{const e=console.error;console.error=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let o=n.filter((e=>e instanceof Error))[0];o||(o=Un(n));try{"string"==typeof n[1]&&n[1]===u.X4?n.pop():Fn(Bn(o),"console.error")}catch(e){}e.apply(console,n)}}catch(e){try{Fn(Bn(e),"error")}catch(e){}}}(),function(e){e.LoadingAPI="LoadingAPI",e.AudioAPI="AudioAPI"}(Hn||(Hn={})),function(e){e.GameInit="loading_api_game_init",e.GameReady="loading_api_game_ready",e.GameReadyForce="loading_api_game_ready_force",e.IframeAdded="loading_api_iframe_added",e.IframeLoaded="loading_api_iframe_resources_loaded",e.ScriptInit="loading_api_script_init",e.TTIReady="loading_api_tti_ready"}(jn||(jn={}));const Wn=[Hn.LoadingAPI],Kn=30*Re.WT;const $n={[Hn.LoadingAPI]:class{constructor(){this.isReady=!1,this.startTimestamp=Date.now(),this.startReadyFallbackTimeout()}ready(){this.isReady=!0;const e=Date.now()-this.startTimestamp;this.logGameInitTime(e,jn.GameReady),clearTimeout(this.readyFallbackTimerId)}logGameInitTime(e,t){p.Z.postToParent({type:"game-measuring",action:t,data:{timeFromInit:e}})}startReadyFallbackTimeout(){this.readyFallbackTimerId=setTimeout((()=>{this.isReady=!0,this.logGameInitTime(Kn,jn.GameReadyForce)}),Kn)}}};class Vn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t in Hn)Hn[t]in e&&e[Hn[t]]&&(this[t]=new $n[t]);for(let t of Wn)!this[t]&&(t in e&&e[t]||!(t in e))&&(this[t]=new $n[t]);p.Z.postToParent({type:"game-measuring",action:jn.GameInit})}}var Zn;Hn.LoadingAPI,function(e){e.GAME_RATED="GAME_RATED",e.NO_AUTH="NO_AUTH",e.REVIEW_ALREADY_REQUESTED="REVIEW_ALREADY_REQUESTED",e.REVIEW_WAS_REQUESTED="REVIEW_WAS_REQUESTED",e.UNKNOWN="UNKNOWN"}(Zn||(Zn={}));const zn=new class{canReview(){return new Promise((e=>{p.Z.postToParent({type:"feedback",action:"can-review"}).then((t=>{let{data:n}=t;e(n)})).catch((t=>{(0,u.fF)(t),e({reason:Zn.UNKNOWN,value:!1})}))}))}requestReview(){return new Promise((e=>{p.Z.postToParent({type:"feedback",action:"request-review"}).then((t=>{let{data:n}=t;const{feedbackSent:r,reason:o}=n;o?((0,u.fF)(o),e({feedbackSent:r})):e(n)})).catch((t=>{(0,u.fF)(t),e({feedbackSent:!1})}))}))}};function Xn(){!function(){var e;null===(e=window.top)||void 0===e||e.postMessage({type:"foolproof-sdk-init",url:location.href,draftDetectedInIframe:(0,ae.mv)()},"*")}()}const qn={allow(){p.Z.postToParent({type:"notifications",action:"allow"})}};function Jn(){const e=e=>e&&"object"==typeof e;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(((t,n)=>(Object.keys(n).forEach((r=>{const o=t[r],a=n[r];Array.isArray(o)&&Array.isArray(a)?t[r]=o.concat(...a):e(o)&&e(a)?t[r]=Jn(o,a):t[r]=a})),t)),{})}function Qn(e){if(!e||"object"!=typeof e)return{};!function(e){"partnerId"in e&&(delete e.partnerId,console.warn("`partnerId` is deprecated in the SDKv2"))}(e);return["adv","screen"].reduce(((t,n)=>(n in e&&(t=e[n]),t)),{})}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Qn(t),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){V||(e.advBlocks.fullscreen=b.FULLSCREEN,e.advBlocks.fullscreen_landscape=b.FULLSCREEN)}(e),function(e){e.adv=e.adv||{},function(e){if("onAdvClose"in e&&"function"!=typeof e.onAdvClose)throw new Error('"onAdvClose" must be a function')}(e.adv)}(e),function(e){if("screen"in e&&"object"!=typeof e.screen)throw new Error("Wrong screen options type");let t=e.screen||{};t=function(e){"fullscreen"in e?function(e){if("boolean"!=typeof e)throw new Error("Wrong fullscreen value")}(e.fullscreen):e.fullscreen=!Ln.isDesktop();return e}(t),t=function(e){if("orientation"in e){const{orientation:t}=e;"string"==typeof t&&(e.orientation={value:t,lock:!0}),function(e){if("object"!=typeof e)throw new Error("Wrong orientation value");if(![null,"portrait","landscape"].includes(e.value))throw new Error(`Wrong orientation value ("${e.value}")`);if("lock"in e){if("boolean"!=typeof e.lock)throw new Error(`Wrong orientation lock value ("${e.lock}")`)}else e.lock=!0}(e.orientation)}else e.orientation={value:null,lock:!0};return e}(t),e.screen=t}(e),e}(Jn(e,t))}function tr(){return new Promise(((e,t)=>{p.Z.postToParent({type:"options",action:"get"}).then((t=>{let{data:n}=t;e(n)})).catch((e=>{t(e)}))}))}const nr=function(){return zt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},rr={AVATAR:"avatar",NAME:"public_name"},or="personal_info";Object.keys(rr).map((e=>rr[e]));var ar;!function(e){e.ALLOW="allow",e.FORBID="forbid",e.NOT_SET="not_set"}(ar||(ar={}));class ir{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this._scopePermissions=e,this._requestedScopes=this._validateRequestedScopes(t)}propogateClicks(e){[E.NL.Up,E.NL.Down,E.NL.Left,E.NL.Right].indexOf(e.code)>-1&&p.Z.postToParent({type:"scopes",action:"key-pressed",data:"Space"===e.code?"Enter":e.code})}show(){return new Promise(((e,t)=>{p.Z.postToParent({type:"scopes",action:"open-scopes-dialog"}).then((t=>{let{data:n}=t;e(n.result)})).catch(t),document.addEventListener("keydown",this.propogateClicks,{passive:!0})}))}isNeedToAskUser(){return[rr.AVATAR,rr.NAME].some((e=>this._requestedScopes.includes(e)&&this._scopePermissions[e]===ar.NOT_SET))}_validateRequestedScopes(e){let t=[];t=Array.isArray(e)?Array.from(e):void 0===e||!0===e?[or]:[];const n=t.indexOf(or);return-1!==n&&t.splice(n,1,rr.AVATAR,rr.NAME),t}}const sr=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}};const cr=class{constructor(){this.promiseWrappers=Object.create(null)}getKey(e){return JSON.stringify(e)}getFor(e){return this.promiseWrappers[this.getKey(e)]}setFor(e,t){t?this.promiseWrappers[this.getKey(e)]=t:delete this.promiseWrappers[this.getKey(e)]}clear(){this.promiseWrappers=Object.create(null)}},dr=k("PlayerProxy"),lr=5*Re.yR;const ur=new cr;function pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=ur.getFor(e);if(n&&!1!==t)return n.promise;const r=new sr;return!1!==t&&(ur.setFor(e,r),window.setTimeout((()=>{ur.setFor(e,void 0)}),lr)),p.Z.postToParent({type:"player",action:"fetch",data:{config:e}}).then((n=>{let{data:o}=n;const{data:a,signature:i}=o,s=function(e,t,n){const r=new _n(t,e);return $t(r,n),r}(e,a,i);if("lite"===s.getMode()||(0,ot.Km)())r.resolve(s);else{const n=new ir(a.scopePermissions,e.scopes);t&&n.isNeedToAskUser()?n.show().then((()=>pr(e,!1))).catch((()=>s)).then((e=>r.resolve(e))):r.resolve(s)}})).catch((t=>{r.reject(t),ur.setFor(e,void 0)})),r.promise}function _r(){return pr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},!0)}function mr(e){var t;e&&((0,ot.Km)()||(0,ot.Bq)(e.src)||(e.focus(),null===(t=e.contentWindow)||void 0===t||t.focus(),e.onload=function(){var t;null===(t=e.contentWindow)||void 0===t||t.focus()}))}p.Z.onExternalMessage("auth",(e=>{["auth-dialog-cancel","auth-dialog-success","changed"].includes(e.data.action)&&(dr("Clear getPlayer promises."),ur.clear())}));class hr{constructor(){this.onMessage=e=>{const{action:t}=e.data;"fullscreenchange"===t?document.dispatchEvent(new Event("fullscreenchange")):"iframe-focus"===t&&this.iframeFocus()},this._status="off",this.overrideBrowserFullscreenElement(),this.initMessaging(),this.updateStatus()}get STATUS_ON(){return"on"}get STATUS_OFF(){return"off"}get status(){return this._status}request(){return p.Z.postToParent({type:"screen-manager",action:"request-fullscreen"})}exit(){return p.Z.postToParent({type:"screen-manager",action:"exit-fullscreen"})}toggle(){return p.Z.postToParent({type:"screen-manager",action:"toggle-fullscreen"})}iframeFocus(){mr(document.querySelector("iframe"))}updateStatus(){p.Z.postToParent({type:"screen-manager",action:"get-state"}).then((e=>{const{isFullscreen:t}=e.data;this._status=t?"on":"off"}))}overrideBrowserFullscreenElement(){try{Object.getOwnPropertyDescriptor(document,"fullscreenElement")||Object.defineProperty(document,"fullscreenElement",{enumerable:!1,configurable:!0,get:()=>this.status===this.STATUS_ON?document.documentElement:null})}catch(e){(0,u.fF)(e)}}initMessaging(){p.Z.onExternalMessage("screen-manager",this.onMessage)}}class gr{constructor(){this.fullscreen=new hr}}var fr;!function(e){e.EXIT="EXIT",e.HISTORY_BACK="HISTORY_BACK"}(fr||(fr={}));const vr={[fr.EXIT]:!0};function yr(){const e={[fr.HISTORY_BACK]:[]};function t(t){const n=e[t];return n||console.warn(`Yandex SDK Event ${t} is not in supported`),n||[]}function n(e){p.Z.postToParent({type:"sdk-internal-event",action:"listeners-change",data:{event:e,count:t(e).length}})}return p.Z.onExternalMessage("sdk-event",(n=>{const r=n.data.action;r in e&&t(r).forEach((e=>{try{e()}catch(e){(0,u.fF)(e)}}))})),function(r,o){return r in e?(function(e,r){t(e).push(r),n(e)}(r,o),()=>{!function(e,r){const o=t(e),a=o.indexOf(r);-1!==a&&(o.splice(a,1),n(e))}(r,o)}):(console.warn("Yandex SDK Event",r,`is not in supported. Available events: ${Object.keys(e).join}`),()=>{})}}const Er=["passport.ya","passport.yandex","an.yandex.ru","avatars.mds.yandex.net","/api/"];function wr(e){const t=Cache.prototype[e];Cache.prototype[e]=function(e,n){return"GET"!==e.method||0!==e.url.indexOf("https://")||(r=e.url,Er.some((e=>-1!==r.indexOf(e))))?Promise.resolve():("ignoreSearch"in(n=n||{})||(n.ignoreSearch=!0),t.call(this,e,n));var r}}const Ar=class{static overrideCacheSearch(){("function"!=typeof Cache?(console.warn("Can not find `Cache` function"),0):"function"!=typeof Cache.prototype.match?(console.warn("Can not find `Cache.match` function"),0):"function"==typeof Cache.prototype.matchAll||(console.warn("Can not find `Cache.matchAll` function"),0))&&(wr("match"),wr("matchAll"))}};const br=new class{canShowPrompt(){return new Promise((e=>{p.Z.postToParent({type:"shortcut-manager",action:"can-show-prompt"}).then((t=>{let{data:n}=t;e(n)})).catch((e=>{(0,u.fF)(e)}))}))}showPrompt(){return new Promise((e=>{p.Z.postToParent({type:"shortcut-manager",action:"show-prompt"}).then((t=>{let{data:n}=t;e(n)})).catch((e=>{(0,u.fF)(e)}))}))}};function Or(e){window.setTimeout((()=>{var t,n,r,o;const a={borrowParams:{[`tmpPlayTime${e}`]:{appVersion:window.APP_VERSION}}},i=new Image,s=(null===(n=null===(t=window.YandexGamesSDKEnvironment)||void 0===t?void 0:t.i18n)||void 0===n?void 0:n.tld)||"ru",c=we(null===(o=null===(r=window.YandexGamesSDKEnvironment)||void 0===r?void 0:r.data)||void 0===o?void 0:o.secondDomain);i.src=`https://mc.yandex.${s}/watch/${c}?page-url=${encodeURIComponent(window.location.href)}&page-ref=${encodeURIComponent(document.referrer)}&charset=utf-8&site-info=${encodeURIComponent(JSON.stringify(a))}`}),1e3*e)}const Sr=function(){Or(5),Or(60),Or(900)};var Pr=n(137);function Tr(){return new Promise((e=>{if("loading"===document.readyState){const t=n=>{"loading"!==n.target.readyState&&(n.target.removeEventListener("readystatechange",t),e())};document.addEventListener("readystatechange",t)}else e()}))}var kr;!function(e){e.READY_FRAME="longtask_frame_ready",e.LONGTASK="longtask"}(kr||(kr={}));let Cr=Promise.resolve();Cr=function(e){let t=[[i.LEGACY,Boolean(Array.prototype.at)],[i.INTERSECTION_OBSERVER,Boolean("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)],[i.SMOOTH_SCROLL,Boolean("scrollBehavior"in document.documentElement.style)]].filter((e=>{let[,t]=e;return!t}));return Promise.all(t.map((t=>{let[n]=t;return d({id:n,src:l(e,n),parentElement:document.head})})))}("//yastatic.net/s3/games-static/stardust/games/v1685093933/build/"),Cr=Cr.then((()=>{De&&(!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=window),["testing","prestable","production"].includes("production")&&!P&&(0,ot.gn)()&&(e.console=Object.assign(Object.assign({},console),{log:()=>{},error:()=>{},info:()=>{},debug:()=>{},warn:()=>{},trace:()=>{},dir:()=>{},dirxml:()=>{},group:()=>{},groupEnd:()=>{},time:()=>{},timeEnd:()=>{},assert:()=>{},profile:()=>{}}))}(),window.alert=e=>console.warn("Overridden alert: "+e)),(()=>{if(window.top!==window)return;if(-1===window.location.hostname.indexOf("games.s3.yandex.net")&&-1===window.location.hostname.indexOf("games-storage.yandex.net")&&-1===window.location.hostname.indexOf("games-storage-aws.yandex.net")&&-1===window.location.hostname.indexOf("games-storage-awst.yandex.net"))return;const e=(0,ae.rh)();if(!e)return;const{search:t,hash:n,hostname:r}=window.location;let o;o=-1===r.indexOf("games.s3.yandex.net")?`https://yandex.com/games/app/${e}${t}${n}`:`https://${B(window.location.hostname)?"ya":"yandex"}.ru/games/app/${e}${t}${n}`,window.top.location.replace(o)})(),Xn()}));const Ir=k("sdkv2");let Rr;Ir("APP_VERSION","1685093933");class Lr{constructor(e){var t;e=er(e),this.EVENTS={EXIT:fr.EXIT,HISTORY_BACK:fr.HISTORY_BACK},this.dispatchEvent=function(e,t){return new Promise(((n,r)=>{if(!(e in vr)){const t=`Yandex SDK Event ${e} is not in supported.`;return console.warn(t),void r(new Error(t))}const o={action:e,type:"sdk-event"};if(void 0!==t)try{o.data={detail:JSON.stringify(t)}}catch(e){return console.warn(e),void r(new Error('Wrong "detail" argument'))}p.Z.postToParent(o).then((()=>{n(!0)})).catch((e=>{r(e)}))}))},this.onEvent=yr(),this.adv=new Ze(e),this.auth=qe,this.clipboard=On,this.deviceInfo=Ln,this.environment=Nn,this.feedback=zn,this.isAvailableMethod=(t=this,e=>(0,ot.Km)()&&["leaderboards.setLeaderboardScore"].includes(e)?new Promise((e=>e(!0))):p.Z.postToParent({type:"auth",action:"has-auth"}).then((n=>{let{data:r}=n;const{hasAuth:o}=r;if(!o&&function(e){return["feedback.requestReview","leaderboards.getLeaderboardPlayerEntry","leaderboards.setLeaderboardScore","player.getIDsPerGame"].includes(e)}(e))return!1;const a={leaderboards:bt,payments:Zt,player:_n,storage:wn.getCustomLocalStorage()};if(a[e])return!1;const i=e.split(".");let s=Object.assign(Object.assign({},a),t);for(let e=0;e<i.length;e++){const t=s[i[e]];if(!t)return!1;if(e===i.length-1)return"function"==typeof t;if(!bn(t))return!1;s=bn(t.prototype)?t.prototype:t}return!1}))),this.shortcut=br,this.getLeaderboards=Ot,this.getPayments=nr,this.getPlayer=_r,this.getStorage=An,this.notifications=qn,this.screen=new gr,this.features=new Vn(e.features),this.yandexApp={enabled:z}}}Cr=Cr.then((()=>{window.loadEnvironmentPromise=window.loadEnvironmentPromise||new Promise(((e,t)=>{p.Z.postToParent({type:"environment",action:"get"}).then((t=>{let{data:n}=t;e(n)})).catch((e=>{t(e)}))})).then((e=>{window.YandexGamesSDKEnvironment=e})),function(e){const t=pt(e,2e3);["click","keydown","keyup","mousedown","mouseenter","mouseleave","mouseup","pointerup","touchcancel","touchend","touchmove","touchstart"].forEach((e=>document.addEventListener(e,t,{passive:!0,capture:!0})))}((()=>p.Z.postToParent({type:"user-action"})))}));class Dr{constructor(){throw new Error("Please, use `YaGames.init` instead.")}static longtaskObserver(){var e;const t="longtask";if("undefined"!=typeof PerformanceObserver&&(null===(e=PerformanceObserver.supportedEntryTypes)||void 0===e?void 0:e.includes(t))){let e;const n=()=>{clearTimeout(e),e=setTimeout((()=>{"complete"===document.readyState?r.disconnect():n()}),Pr.Tc)},r=new PerformanceObserver((e=>{e.getEntries().forEach((()=>{p.Z.postToParent({type:kr.LONGTASK}),n()}))}));r.observe({entryTypes:[t]})}"complete"===document.readyState?p.Z.postToParent({type:kr.READY_FRAME}):window.addEventListener("load",(()=>{p.Z.postToParent({type:kr.READY_FRAME})}))}static init(e){return(0,s.mG)(this,void 0,void 0,(function*(){return Rr?(console.warn("YaGames was initialized"),Rr):(this.longtaskObserver(),Ir("Start initialization"),yield Cr,Rr=new Promise(((t,n)=>{const r=r=>{try{e=er(r,e),Tr().then((()=>{const n=new Lr(e);Xe.hasAuth()?n.getPlayer({scopes:!1}).then((()=>t(n))).catch((()=>t(n))):t(n)}))}catch(e){(0,u.fF)(e),n(e)}};window.loadEnvironmentPromise.then((()=>{tr().then(r).catch((e=>{console.warn(`Options load failed with error ${e}`),r()}))})).catch((e=>{(0,u.fF)(e),tr().then(r).catch((e=>{console.warn(`Options load failed with error ${e}`),r()}))})),setTimeout((()=>{if("complete"===document.readyState)p.Z.postToParent({type:"game-is-unity-flag",data:{isUnityGame:"createUnityInstance"in window}});else{const e=()=>{p.Z.postToParent({type:"game-is-unity-flag",data:{isUnityGame:"createUnityInstance"in window}}),window.removeEventListener("load",e)};window.addEventListener("load",e)}}),10*Re.WT)})),Rr.then((()=>Ir("Initialized"))),Rr)}))}}if(Dr.deviceInfo=Ln,window.YaGames){const e='YaGames is already defined. Please, check double <script src="https://ya.ru/games/sdk/v2"> on the page.';(0,ae.mv)()&&window.parent.postMessage({source:"YandexGamesSDK",type:"alert",message:e},"*"),(0,u.Ts)(new Error(e))}else{window.parent!==window&&window.parent.postMessage({source:"YandexGamesSDK",type:"sdk-bundle-start",messageId:`${Date.now()}-${Math.random()}`,data:{time:Date.now(),sdkVersion:"v2",sdkBundle:"1685093933"}},"*");try{wn.setup()}catch(e){(0,u.fF)(e)}window.top!==window&&Tr().then(_),mr(document.querySelector("iframe")),Ar.overrideCacheSearch(),Sr()}window.YaGames=Dr;const xr=Dr})(),YaGames=r.default})();
//# sourceMappingURL=https://s3.mdst.yandex.net/games/source-maps/v1685093933/sdk/v2.js.map